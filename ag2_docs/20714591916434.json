{
    "id": 20714591916434,
    "url": "https://discoverxi-supportdesk.zendesk.com/api/v2/help_center/en-us/articles/20714591916434.json",
    "html_url": "https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/20714591916434-EFS-Panel",
    "author_id": 369584192734,
    "comments_disabled": false,
    "draft": true,
    "promoted": false,
    "position": 0,
    "vote_sum": 0,
    "vote_count": 0,
    "section_id": 20714530860562,
    "created_at": "2024-08-12T16:48:56Z",
    "updated_at": "2024-08-12T16:48:58Z",
    "name": "EFS Panel",
    "title": "EFS Panel",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2024-08-12T16:48:58Z",
    "user_segment_id": 360000084973,
    "permission_group_id": 1075294,
    "content_tag_ids": [],
    "label_names": [],
    "body": "<p><b>Original Confluence URL:</b> <a href=\"https://qbdocs.atlassian.net/wiki/spaces/TS/pages/1054933094\">https://qbdocs.atlassian.net/wiki/spaces/TS/pages/1054933094</a> - please cross-check the quality of the ZD article with the Confluence counterpart and remove this line before publishing the ZD article</p>\n\n<h2>Table of Contents</h2>\n<ul class=\"toc\">\n<ul>\n<li><a href=\"#header-1\">Install EFS Panel &gt;=EFS 11.0</a></li>\n<ul>\n<li><a href=\"#header-3\">Deprecated</a></li>\n<ul>\n<li><a href=\"#header-5\">Systemadministratorische Todos</a></li>\n</ul>\n<li><a href=\"#header-7\">Deactivation of Panel module</a></li>\n<ul>\n<li><a href=\"#header-9\">Background information</a></li>\n<li><a href=\"#header-10\">Deactivation</a></li>\n</ul>\n<li><a href=\"#header-12\">Website</a></li>\n<ul>\n<li><a href=\"#header-14\">Module mit zugehörigen Templates</a></li>\n</ul>\n</ul>\n</ul>\n</ul><p></p><h1 id=\"header-1\">Install EFS Panel &gt;=EFS 11.0</h1><ul><li>\n<p>The following steps need to be done to install EFS Panel on installations &gt;=EFS 11.0 <strong>The order is crucial:</strong></p>\n<ul>\n<li>\n<p><strong>New installations:</strong></p>\n<ul><li><p>Set up installation like described here <a href=\"https://qbdocs.atlassian.net/wiki/spaces/TS/pages/1053557033/Set+up+new+installation\">Create a new EFS installation</a></p></li></ul>\n</li>\n<li>\n<p><strong>Existing installations on which Panel shall be activated later on:</strong></p>\n<ul>\n<li>\n<p><del>Create folder \"panelwebsite\" in htdocs</del></p>\n<ul><li><pre><code class=\"language-text\">mkdir panelwebsite</code></pre></li></ul>\n</li>\n<li>\n<p><del>Copy over \"panelwebsite\" files from the build matching the installation's version</del></p>\n<ul><li><pre><code class=\"language-text\">cp -R /efsbuilds/efsbuilds/EFS_11.0_0202/panelwebsite/* panelwebsite/</code></pre></li></ul>\n</li>\n<li>\n<p><del>set document_root to panelwebsite <ac:inline-comment-marker ac:ref=\"f542fa1f-6342-488b-a86a-b3ba409553be\">(erforder Frontend Restart)</ac:inline-comment-marker></del></p>\n<ul><li><pre><code class=\"language-text\">rm document_root; ln -s panelwebsite document_root</code></pre></li></ul>\n</li>\n<li>\n<p>Activate panel module in installation's config</p>\n<ul>\n<li><p>Options &gt;&gt; Platform cockpit &gt;&gt; root only:: System configuration</p></li>\n<li><p>edit variable <strong>\"modules\"</strong> and add \"panel\"</p></li>\n<li><p>set <strong>\"installation_type\"</strong> to \"panel\" (excep<ac:inline-comment-marker ac:ref=\"6c47147c-ae42-491b-b36d-b39a13007474\">t if it already is set to leadership or employee)</ac:inline-comment-marker></p></li>\n</ul>\n</li>\n<li>\n<p>Execute healself</p>\n<ul>\n<li><pre><code class=\"language-text\">cd www\nphp support/healself.php</code></pre></li>\n<li>\n<p><strong><span style=\"color: rgb(255,86,48);\">if you get this healself error:</span></strong></p>\n<ul><li><pre><code class=\"language-text\">The following tasks failed with errors:\n- panel_healself_jobs_902::regeneratePanelistsPasswordHashes [Warning: regenerate panelists password hashes live - without tmp table]:\n  - Query failed: SELECT uid, BASE64DECODE(u_ppasswd) AS plain_password FROM panelists. Reason: execute command denied to user 'opst_nh7146'@'%' for routine 'opst_nh7146.BASE64DECODE'\n  - Task reported it failed on line 842 in class panel_healself_jobs_902 </code></pre></li></ul>\n</li>\n<li><p>case or contact system administration to grant the execute priviledge and the storted routine:</p></li>\n<li>\n<p>1.</p>\n<pre><code class=\"language-text\">CREATE FUNCTION BASE64DECODE (sourceString varchar(200)) RETURNS varchar(200) DETERMINISTIC RETURN FROM_BASE64(sourceString);</code></pre>\n</li>\n<li>\n<p>2.</p>\n<pre><code class=\"language-text\">GRANT EXECUTE ON PROCEDURE 'opst_nh7146.BASE64DECODE' TO 'opst_nh7146'@'%'</code></pre>\n</li>\n<li>\n<p>afterwards check with “SHOW GRANTS” if the priviledge is listed:</p>\n<ul><li><pre><code class=\"language-text\">MariaDB [opst_nh7146]&gt; show grants;\n+------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Grants for opst_nh7146@%                                                                                                                                               |\n+------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| GRANT CREATE VIEW, SHOW VIEW, CREATE ROUTINE, ALTER ROUTINE, TRIGGER ON *.* TO 'opst_nh7146'@'%' IDENTIFIED BY PASSWORD '*16F21254F22125A40AEB6DE09E18313DADA1993F'    |\n| GRANT SELECT ON `mysql`.* TO 'opst_nh7146'@'%'                                                                                                                         |\n| GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES, CREATE VIEW, SHOW VIEW ON `opst_nh7146`.* TO 'opst_nh7146'@'%' |\n| GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES, CREATE VIEW, SHOW VIEW ON `tbl_nh7146`.* TO 'opst_nh7146'@'%'  |\n| GRANT EXECUTE ON FUNCTION `opst_nh7146`.`base64decode` TO 'opst_nh7146'@'%'                                                                                            |\n+------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n5 rows in set (0.00 sec)</code></pre></li></ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li></ul><h2 id=\"header-3\">Deprecated</h2><p> Diese Anleitung gilt nur für Version 6.0, 5.3 und 5.2</p><ul>\n<li><p>Folgende Punkte müssen beachtet werden, wenn man ein Panel 5.2 aufsetzen möchte. <strong>Die Reihenfolge ist entscheidend:</strong></p></li>\n<li><p>EFS Survey entsprechend <a href=\"https://it.globalpark.de/twiki/bin/view/Support/SupportEFSSurvey\">SupportEFSSurvey</a> anlegen</p></li>\n<li><p>cvs co -r SECHS-0 panelwebsite</p></li>\n<li><p>cvs co -r SECHS-0 modules/panel</p></li>\n<li><p>vi conf/config.inc.php3 <br>$__modules=array(\"panel\"); <br>$__basepath_panel = $__base_all_path.\"panelwebsite/\"; <br>$__installation_type=\"panel\";</p></li>\n<li><p>mysql -u gpadmin -A opst_DATENBANKNAME &lt; www/include/healself/lang.sql</p></li>\n<li><p><strong>EINLOGGEN</strong> im www-Bereich</p></li>\n<li>\n<pre><code class=\"language-text\">php panelwebsite/install/install.php install </code></pre>\n<p> (Dies entpackt die tar.gz-Dateien und dumpt die Datenbank ein)</p>\n</li>\n</ul><p><strong>Achtung! Dieser Vorgang ist nur zur initalen Installation </strong><br><strong>durchzuführen. Bei einem laufenden Panel gehen Daten (Website, </strong><br><strong>Stammdaten, usw.) verloren!</strong></p><p></p><h3 id=\"header-5\">Systemadministratorische Todos</h3><ul>\n<li><p>in GSA1: chown nobody:globalpark -R panelwebsite/s panelwebsite/__templates/* panelwebsite/__templates_c/* panelwebsite/images</p></li>\n<li><p>DOCUMENT ROOT von Sysadmins auf panelwebsite setzen lassen</p></li>\n<li><p>folgende RewriteRules in Virtual Host Config vor der Reporting RewriteRule hinzufügen:</p></li>\n</ul><pre><code class=\"language-text\">        RewriteCond  %{REQUEST_URI}    ^/((panelwebsite/)?[^/]+\\.php3?|\\?|$)\n        RewriteRule ^/((panelwebsite/)?([^/]+)\\.php3?|\\?|$)   /$2index.php?node=$3 [QSA]\n</code></pre><p> ab Version 6.0 kommen folgende Zeilen hinzu: </p><pre><code class=\"language-text\">        RewriteCond  %{REQUEST_URI}    ^/((panelwebsite/)?pages/([0-9]+)/[^/]+\\.php3?|\\?|$)\n        RewriteRule ^/((panelwebsite/)?pages/([0-9]+)/([^/]+)\\.php3?|\\?|$)   /$2index.php?lang_id=$3&amp;page=$4 [QSA]\n </code></pre><p>Fehlende RewriteRules? werden nicht im Installationscheck angezeigt.</p><p><strong>fertig!</strong></p><p>Bernd Jaenichen added a comment - 07.Nov 2012 17:36 Die oben genannten Rules sind falsch bitte ab 8.1 folgende verwenden:</p><p></p><pre><code class=\"language-text\">RewriteEngine On\nRewriteCond %{DOCUMENT_ROOT}/..%{SCRIPT_FILENAME} !-f\nRewriteCond %{DOCUMENT_ROOT}%{SCRIPT_FILENAME} !-f\nRewriteRule .* /home/jaenichen/public_html/81.koeln.globalpark.de/htdocs/public/index.php [L,NS] \n</code></pre><p>'/home/jaenichen/public_html/81.koeln.globalpark.de/htdocs/public/index.php' allerdings durch den korrekten Pfad ersetzen sonst wird das nix</p><p></p><h2 id=\"header-7\">Deactivation of Panel module</h2><h3 id=\"header-9\">Background information</h3><p> Example Case 00897044<br>From Development point of view there is no process for deactivating the panel module and also deleting data that belongs to that module (panelists, PA surveys, mail templates etc.).<br>There is no automation or \"healself\" like we have for activating modules (the healself e.g. creates needed tables and inserts basic data).<br>Deactivating a module currently means removing the corresponding entry from the EFS config.<br>There is no automation afterwards that deletes panelists, projects, database tables etc.<br>In the past Technical Support actually just removed the panel module from the config which made everything invisible from the frontend.<br><strong>Now that we have GDPR we have to be more radical and also delete all panel related data (panelist data, websites, panel projects, database tables) instead of just deactivating the module.</strong> <br><br>Like I said If I deactivate the panel module, the People menu including the panelist administration as well as the Website menu and all panel surveys no longer will be visible via the GUI and no longer accessible for the client.<br>The client already may be aware of the fact that from the time of deactivation they no longer can access this data and projects.<br>The client has to confirm that we can delete all panelist data, all panel projects, all websites and panel related database tables ultimately.<br></p><h3 id=\"header-10\">Deactivation</h3><pre><code class=\"language-text\">[]Set all panelists to status \"deleted\" (8)\n[]Ultimately delete all panelists with status \"deleted\"\n[]Delete all panel surveys (PA) and master data surveys (MD)\n[]Also delete all archived surveys\n[]Delete all Panel websites (will also delete related mail templates)\n[]Delete all panel related database tables:\n  (have to be defined yet)\n[]Reset healself tasks ?\n[]Reset Document Root from panelwebsite to uc\n  rm document_root; ln -s uc document_root\n[] Inform CHD/client after everything has been deleted and panel module has been deactivated.</code></pre><p></p><p></p><h2 id=\"header-12\">Website</h2><h3 id=\"header-14\">Module mit zugehörigen Templates</h3><p>This list was created by using the Responsive Panel website in version 16.4</p><table data-layout=\"default\" data-table-width=\"760\" ac:local-id=\"b92e8c7b-9ab0-4eee-8c00-ec0342af92c8\">\n<colgroup>\n<col style=\"width: 340.0px;\">\n<col style=\"width: 340.0px;\">\n</colgroup>\n<tbody>\n<tr>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/EFSPanelInstall?sortcol=0;table=1;up=0#sorted_table\">Module</a></p></th>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/EFSPanelInstall?sortcol=1;table=1;up=0#sorted_table\">Template</a></p></th>\n</tr>\n<tr>\n<td><p>Account Balance</p></td>\n<td><p>func_account_balance</p></td>\n</tr>\n<tr>\n<td><p>Activity Stream</p></td>\n<td><p>func_activitystream</p></td>\n</tr>\n<tr>\n<td><p>Bonus list and redemption</p></td>\n<td><p>func_redemption</p></td>\n</tr>\n<tr>\n<td><p>Change data</p></td>\n<td><p>func_change_details</p></td>\n</tr>\n<tr>\n<td><p>Change password facility</p></td>\n<td><p>func_change_password</p></td>\n</tr>\n<tr>\n<td><p>Chat</p></td>\n<td><p>func_chat</p></td>\n</tr>\n<tr>\n<td><p>Contact form</p></td>\n<td><p>func_contact_form</p></td>\n</tr>\n<tr>\n<td><p>Discussion</p></td>\n<td><p>func_discussion</p></td>\n</tr>\n<tr>\n<td><p>Display of private messages</p></td>\n<td><p>func_messages<br>func_messages_full<br>func_messages_home<br>func_messages_light</p></td>\n</tr>\n<tr>\n<td><p>Downloads</p></td>\n<td><p>func_download<br>func_efsfilemanager</p></td>\n</tr>\n<tr>\n<td><p>E-Mail Adddress change facility</p></td>\n<td><p>func_change_email</p></td>\n</tr>\n<tr>\n<td><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/FAQ\">FAQ</a> list</p></td>\n<td><p>func_faq</p></td>\n</tr>\n<tr>\n<td><p>Forum</p></td>\n<td><p>func_forum<br>func_forum_alternative<br>func_flat_forum</p></td>\n</tr>\n<tr>\n<td><p>Leaderboard</p></td>\n<td><p>func_leaderboard</p></td>\n</tr>\n<tr>\n<td><p>Leaderboard2</p></td>\n<td><p>func_leaderboard2<br>func_leaderboard2_light</p></td>\n</tr>\n<tr>\n<td><p>Search Page</p></td>\n<td><p>func_search</p></td>\n</tr>\n<tr>\n<td><p>List of featured panelist blogs</p></td>\n<td><p>func_blogs_featured</p></td>\n</tr>\n<tr>\n<td><p>List of prize draws won</p></td>\n<td><p>func_won_prize_draws</p></td>\n</tr>\n<tr>\n<td><p>Lost Account</p></td>\n<td><p>func_lostaccount</p></td>\n</tr>\n<tr>\n<td><p>Mail sending</p></td>\n<td><p>func_report_form</p></td>\n</tr>\n<tr>\n<td><p>News</p></td>\n<td><p>func_news<br>func_news_inc</p></td>\n</tr>\n<tr>\n<td><p>Notification</p></td>\n<td><p>func_notification</p></td>\n</tr>\n<tr>\n<td><p>Panelist Blog</p></td>\n<td><p>func_blog_featured<br>func_blog_featured_inc<br>func_blog</p></td>\n</tr>\n<tr>\n<td><p>Panelist Ratings</p></td>\n<td><p>func_panelist_rating</p></td>\n</tr>\n<tr>\n<td><p>Panelist Online</p></td>\n<td><p>func_panelists_online</p></td>\n</tr>\n<tr>\n<td><p>Picture upload for panelist profile</p></td>\n<td><p>func_profile_picture</p></td>\n</tr>\n<tr>\n<td><p>Popular words</p></td>\n<td><p>func_popular_words</p></td>\n</tr>\n<tr>\n<td><p>Profile options</p></td>\n<td><p>func_profile_settings</p></td>\n</tr>\n<tr>\n<td><p>Profile Page</p></td>\n<td><p>tpl_profiledetail</p></td>\n</tr>\n<tr>\n<td><p>Profile search</p></td>\n<td><p>func_profile_search</p></td>\n</tr>\n<tr>\n<td><p>Quick poll</p></td>\n<td><p>func_quick_poll</p></td>\n</tr>\n<tr>\n<td><p>Quit membership</p></td>\n<td><p>func_quit_membership</p></td>\n</tr>\n<tr>\n<td><p>Recover password functiionality</p></td>\n<td><p>func_password_recover</p></td>\n</tr>\n<tr>\n<td><p>Registration form</p></td>\n<td><p>func_report_form</p></td>\n</tr>\n<tr>\n<td><p>Search Page</p></td>\n<td><p>func_panelsearch</p></td>\n</tr>\n<tr>\n<td><p>Send private messages to panelists</p></td>\n<td><p>func_messages<br>func_messages_full<br>func_messages_home<br>func_messages_light</p></td>\n</tr>\n<tr>\n<td><p>Settings for email notifications</p></td>\n<td><p>func_notificationsettings</p></td>\n</tr>\n<tr>\n<td><p>Subscriptions</p></td>\n<td><p>func_subscriptions</p></td>\n</tr>\n<tr>\n<td><p>Survey list</p></td>\n<td><p>func_survey_list</p></td>\n</tr>\n<tr>\n<td><p>Teaser</p></td>\n<td><p>func_teaser</p></td>\n</tr>\n<tr>\n<td><p>Tell-A-friend campaign</p></td>\n<td><p>func_tell_a_friend</p></td>\n</tr>\n<tr>\n<td><p>To-Do list</p></td>\n<td><p>func_todo_list<br>func_todo_carousel</p></td>\n</tr>\n</tbody>\n</table><p> No Templates:</p><p></p><ul>\n<li><p>Ajax validation <em>// FW: </em><br><em>This module allows you to call all public functions in panel_types by </em><br><em>adding the function to the URL. Result is then written into Smarty</em></p></li>\n<li><p>Random file selection</p></li>\n<li><p>Random Number draws</p></li>\n<li><p>Masterdata categorie list</p></li>\n</ul><p>Special Modules attached to hacks/other customizations:</p><p></p><ul>\n<li><p>Everything starting with \"Diary\" -&gt; GFK</p></li>\n<li><p>Comment news -&gt; Sainsburys</p></li>\n<li><p>Display of additional Surveys -&gt; GFK</p></li>\n<li><p>Form for text search in modules -&gt; Sainsburys</p></li>\n<li><p>Search for text in modules -&gt; Sainsburys</p></li>\n<li><p>Joker calculatiion and display -&gt; GFK</p></li>\n<li><p>External e-mail Validation -&gt; SINC</p></li>\n<li><p>List of external sstudies -&gt; Some US customer (2011 ... How am I supposed to remember that?!)</p></li>\n</ul>",
    "user_segment_ids": [
        360000084973
    ]
}