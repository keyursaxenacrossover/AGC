{
    "id": 20716849006098,
    "url": "https://discoverxi-supportdesk.zendesk.com/api/v2/help_center/en-us/articles/20716849006098.json",
    "html_url": "https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/20716849006098-Questions-for-Tivian-Access-Clients-IT-Department",
    "author_id": 369584192734,
    "comments_disabled": false,
    "draft": false,
    "promoted": false,
    "position": 0,
    "vote_sum": 0,
    "vote_count": 0,
    "section_id": 20714711445138,
    "created_at": "2024-08-12T19:51:08Z",
    "updated_at": "2024-08-27T13:34:01Z",
    "name": "Questions for Tivian Access Clients (IT Department)",
    "title": "Questions for Tivian Access Clients (IT Department)",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2024-08-27T13:33:59Z",
    "user_segment_id": 360000084973,
    "permission_group_id": 1075294,
    "content_tag_ids": [],
    "label_names": [],
    "body": "<h1 id=\"h_01J69WW73WG5G08F8TZJ1XEJ0W\">Overview</h1>\n<p>Before integrating EFS (Enterprise Feedback System) and Tivian Access with a client's Identity Provider (IdP) or setting up Single Sign-On (SSO), it's essential to gather specific information and ensure that certain prerequisites are met. This guide outlines the necessary prerequisites, questions to ask the client, and considerations for setting up SSO.</p>\n<h3 id=\"h_01J69X0NACEFZCBQ16X9D8WWT1\">Prerequisites</h3>\n<ul>\n<li>Qualified technical customer contact that can administer their Identity Provider (if there is an IdP)</li>\n<li><strong>Please provide the mandatory test user! e.g.: QBtest@customerdomain.com</strong></li>\n</ul>\n<h3 id=\"h_01J69X10GXK2WSDFJ10Z9WN5WS\">General Question</h3>\n<ul>\n<li>\n<p>Do you want to use a preexisting Identity Provider or do you want to use Tivian Access exclusively?</p>\n</li>\n<li>\n<p>Which email domains are used by the users that are authenticating at the SSO software/service?</p>\n<ul>\n<li>\n<p>e.g @client.com, @client.de</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Which sections of EFS do they want to cover?</p>\n<ul>\n<li>\n<p>Admin area</p>\n</li>\n<li>\n<p>Admin area + Portals (we cannot operate Portals independently from Admin)</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Would they like to set up MFA through Tivian Access?</p>\n<ul>\n<li>\n<p>We recommend the customer set up MFA on their own IdP and only offer this solution to customers that do not have their own IdP.</p>\n</li>\n<li>\n<p>Only Options here: the Code Authenticator Apps Okta and Google Authenticate</p>\n</li>\n<li>\n<p>Note: Email, SMS (this was a process decision)</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>If it is not clear what the client is using for SSO (and later do the follow-up questions for the specific protocol)</strong>:</p>\n<ul>\n<li>\n<p>What software/service are you using for SSO</p>\n<ul>\n<li>\n<p>e.g: Azure AD</p>\n</li>\n</ul>\n</li>\n<li>\n<p>What protocol do you support for SSO (OpenID Connect or SAML 2.0) - in case a client’s software supports both prefer OIDC</p>\n<ul>\n<li>\n<p>e.g: OpenID Connect, SAML 2.0</p>\n</li>\n</ul>\n</li>\n</ul>\n<p> </p>\n<h2 id=\"header-1\">If the client is using <strong>OpenID Connect</strong>:</h2>\n<p>We need the following information from the client:</p>\n<p>Read the following first (just our information):</p>\n<ul>\n<li>OIDC Federation</li>\n<li>Open ID Connect Setup</li>\n</ul>\n<p> </p>\n<table border=\"1\" data-layout=\"default\">\n<colgroup>\n<col style=\"width: 117.0px;\">\n<col style=\"width: 164.0px;\">\n<col style=\"width: 309.0px;\">\n<col style=\"width: 276.0px;\">\n</colgroup>\n<tbody>\n<tr>\n<th>\n<p><strong>Source</strong></p>\n</th>\n<th>\n<p><strong>Configuration</strong></p>\n</th>\n<th>\n<p><strong>Meaning</strong></p>\n</th>\n<th>\n<p><strong>Example</strong></p>\n</th>\n</tr>\n<tr>\n<td>\n<p><strong>discovery document</strong></p>\n</td>\n<td>\n<p> </p>\n</td>\n<td>\n<p> In case you can get the discovery endpoint itself it should contain all the following information.</p>\n</td>\n<td>\n<p><a href=\"#\">https://login.microsoftonline.com/{id}/v2.0/.well-known/openid-configuration</a></p>\n<p>Example based on Azure AD</p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>token_endpoint</p>\n</td>\n<td>\n<p>Endpoint to get new tokens for the different flows. In our case an endpoint to exchange a code for a token.</p>\n</td>\n<td>\n<p><a href=\"#\">https://login.microsoftonline.com/{id}/oauth2/v2.0/token</a></p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>authorization_endpoint</p>\n</td>\n<td>\n<p>Endpoint to Authenticate/Authorize a user. A user will be sent to that endpoint to authenticate.</p>\n</td>\n<td>\n<p><a href=\"#\">https://login.microsoftonline.com/{id}/oauth2/v2.0/authorize</a></p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>jwks_uri</p>\n</td>\n<td>\n<p>Location where Keys for OpenID connect are stored. These keys might rotate. Therefore this document is not static long term.</p>\n</td>\n<td>\n<p><a href=\"#\">https://login.microsoftonline.com/{id}/discovery/v2.0/keys</a></p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>issuer</p>\n</td>\n<td>\n<p>A value to validate who issued tokens.</p>\n</td>\n<td>\n<p><a href=\"#\">https://login.microsoftonline.com/{id}/v2.0</a></p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>scopes</p>\n</td>\n<td>\n<p>A number of “topics” that could be asked for during authentication. It will result in a number of claims (particular values) after authentication.</p>\n</td>\n<td>\n<p>[\"openid\",\"profile\",\"email”]</p>\n</td>\n</tr>\n<tr>\n<td>\n<p><strong>external Identity Provider</strong></p>\n</td>\n<td>\n<p> </p>\n</td>\n<td>\n<p> </p>\n</td>\n<td>\n<p> </p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>client id</p>\n</td>\n<td>\n<p>An ID to identify the connection between Tivian Access and the external Identity Provider.</p>\n</td>\n<td>\n<p> 2dbdc2ba-467f-4a2e-86cc-62ff1544aeaf</p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>client secret</p>\n</td>\n<td>\n<p>A secret to create trust between Tivian Access and the external Identity Provider.</p>\n</td>\n<td>\n<p> SOME-SECRET-VALUE</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p> </p>\n<p>Additionally, the client has to take care, that the following information is sent within the requested ID tokens:</p>\n<ul>\n<li>\n<p>email</p>\n</li>\n<li>\n<p>first name</p>\n</li>\n<li>\n<p>last name</p>\n</li>\n</ul>\n<p>This might involve additional work on the client side we don’t know.</p>\n<p> </p>\n<h2 id=\"header-3\">If the client is using <strong>SAML 2.0</strong>\n</h2>\n<p>the client needs to provide information based on a metadata.xml file we send over to the client.</p>\n<p>Setting up a SAML identity provider should always be a multi-step process that involves some interaction with the client. Thus asking all questions upfront might not be sufficient.</p>\n<p>Read the following first (just our information, not the whole SAML spec):</p>\n<ul>\n<li>SAML Provider Setup</li>\n<li>SAML Federation</li>\n</ul>\n<p>Possibly you have to ask these questions after creating resources on our side and sending our metadata.xml to the client.</p>\n<table border=\"1\" data-layout=\"default\">\n<colgroup>\n<col style=\"width: 218.0px;\">\n<col style=\"width: 216.0px;\">\n<col style=\"width: 216.0px;\">\n<col style=\"width: 216.0px;\">\n</colgroup>\n<tbody>\n<tr>\n<th>\n<p><strong>Source</strong></p>\n</th>\n<th>\n<p><strong>Confiugration</strong></p>\n</th>\n<th>\n<p><strong>Meaning</strong></p>\n</th>\n<th>\n<p><strong>Example</strong></p>\n</th>\n</tr>\n<tr>\n<td>\n<p><strong>client’s metadata.xml</strong></p>\n</td>\n<td>\n<p> </p>\n</td>\n<td>\n<p>All following information should be included in that document - if not present ask for the following</p>\n</td>\n<td>\n<p>-</p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>IdP Issuer URI</p>\n</td>\n<td>\n<p>The issuer of URI for authentication. This usually aligns with the EntityID of the provider.</p>\n</td>\n<td>\n<p> </p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>IdP Single Sign-On URL</p>\n</td>\n<td>\n<p>Endpoint that receives SAML authentication requests.</p>\n</td>\n<td>\n<p> </p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>Idp Signature Certificate</p>\n</td>\n<td>\n<p>Certificate file that is used to verify signatures.</p>\n</td>\n<td>\n<p> </p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p> </p>\n</td>\n<td>\n<p> </p>\n</td>\n<td>\n<p> </p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>Request Binding</p>\n</td>\n<td>\n<p>How will SAML authentication requests be sent?</p>\n</td>\n<td>\n<p>HTTP POST</p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>Request Signature</p>\n</td>\n<td>\n<p>Should authentication request be signed? We would recommend/enforce that.</p>\n</td>\n<td>\n<p>yes/no</p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>Request Signature Algorithm </p>\n</td>\n<td>\n<p> </p>\n</td>\n<td>\n<p> </p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>Response Signature Verification</p>\n</td>\n<td>\n<p> </p>\n</td>\n<td>\n<p> </p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>Response Signature Algorithm</p>\n</td>\n<td>\n<p> </p>\n</td>\n<td>\n<p> </p>\n</td>\n</tr>\n<tr>\n<td>\n<p> </p>\n</td>\n<td>\n<p>Destination </p>\n</td>\n<td>\n<p>Are destination and Single Sign-On URL different? If yes the client has to provide it.</p>\n</td>\n<td>\n<p> </p>\n</td>\n</tr>\n</tbody>\n</table>\n<p> </p>\n<p>The client has to take care that the provided values and possible configurations on their side align with ours.</p>\n<p>The client has to take care that the following requested attributes are sent in the authentication request:</p>\n<ul>\n<li>\n<p>subjectNameID → has to be the email adress of the user</p>\n</li>\n<li>\n<p>email → has additionally be provided as attribute</p>\n</li>\n<li>\n<p>firstName → this should be the first name of the user</p>\n</li>\n<li>\n<p>lastName → this should be the last name of the user</p>\n</li>\n</ul>\n<p> </p>\n<h2 id=\"01J6A0MY3X0FDY4W1CWESK7HWG\">If the client is using <strong>Azure AD</strong>\n</h2>\n<p>If the client is using Azure AD with OpenID Connect the following information are sufficient ( from the information listed inOIDC Federation) :</p>\n<ul>\n<li>\n<p><strong>Client ID</strong> and <strong>Client Secret</strong> ( created when following the instructions from: Azure AD Federation - Configuration (usually sent as a PDF to the client in the first email)</p>\n<ul>\n<li>\n<p>The client ID can also be later found in the “App registrations” in Azure (example below)</p>\n</li>\n<li><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20998279944338\" alt=\"image-20200721-154158.png\"></li>\n</ul>\n</li>\n<li>\n<p><strong>Microsoft Tenant ID</strong></p>\n<ul>\n<li>\n<p>Can be found in the Azure Portal / Azure AD (example below)</p>\n</li>\n<li><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20998306620178\" alt=\"image-20200721-154038.png\"></li>\n<li>\n<p>All information which are usually expected in the discovery document can be build using the tenant id and generic microsoft urls. E.g: the jwks_uri is build using the following template: <a href=\"https://login.microsoftonline.com/dc79dd1a-883e-438c-b396-dc9fb7f66bf1/discovery/v2.0/keys\">https://login.microsoftonline.com/{tenantId}/discovery/v2.0/keys</a></p>\n</li>\n</ul>\n</li>\n</ul>\n<p> </p>\n<h1 id=\"h_01J69XFY5RTVDNXJ60R8S47YZE\">FAQ</h1>\n<p><strong>Why do we need a test user from the client?</strong></p>\n<p>A test user is essential for validating the SSO integration and ensuring that authentication processes work correctly before going live.</p>\n<p><strong>What is the advantage of using OpenID Connect over SAML 2.0?</strong></p>\n<p>OpenID Connect is a more modern and flexible protocol, providing better support for mobile and single-page applications.</p>\n<p><strong>Why can't we use email or SMS for MFA?</strong></p>\n<p>The decision to exclude email and SMS from MFA options is based on security and process considerations, ensuring stronger and more reliable authentication methods.</p>",
    "user_segment_ids": [
        360000084973
    ]
}