{
    "id": 20714626853778,
    "url": "https://discoverxi-supportdesk.zendesk.com/api/v2/help_center/en-us/articles/20714626853778.json",
    "html_url": "https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/20714626853778-Update-installation",
    "author_id": 369584192734,
    "comments_disabled": false,
    "draft": true,
    "promoted": false,
    "position": 0,
    "vote_sum": 0,
    "vote_count": 0,
    "section_id": 20714530860562,
    "created_at": "2024-08-12T16:50:57Z",
    "updated_at": "2024-08-12T16:51:00Z",
    "name": "Update installation",
    "title": "Update installation",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2024-08-12T16:51:00Z",
    "user_segment_id": 360000084973,
    "permission_group_id": 1075294,
    "content_tag_ids": [],
    "label_names": [],
    "body": "<p><b>Original Confluence URL:</b> <a href=\"https://qbdocs.atlassian.net/wiki/spaces/TS/pages/1057128548\">https://qbdocs.atlassian.net/wiki/spaces/TS/pages/1057128548</a> - please cross-check the quality of the ZD article with the Confluence counterpart and remove this line before publishing the ZD article</p>\n\n<h2>Table of Contents</h2>\n<ul class=\"toc\">\n<ul>\n<li><a href=\"#header-1\">Datagroup(Frankfurt)</a></li>\n<ul>\n<li><a href=\"#header-3\">ROM</a></li>\n<ul>\n<li><a href=\"#header-5\">1 . Check the latest builds of the target version:</a></li>\n<li><a href=\"#header-6\">2. Execute the upgrade script in the folder /opt/pdp/rollout2/bin:</a></li>\n<li><a href=\"#header-7\">18.4 auf 19.1</a></li>\n<li><a href=\"#header-8\">19.4 auf 19.5</a></li>\n<li><a href=\"#header-9\">19.5 auf 20.1</a></li>\n<li><a href=\"#header-10\">3. Im Falle von Upgrades</a></li>\n<li><a href=\"#header-11\">4. Check installation</a></li>\n</ul>\n<li><a href=\"#header-13\">NO ROM</a></li>\n</ul>\n<li><a href=\"#header-15\">Procus</a></li>\n<ul>\n<li><a href=\"#header-17\">Update an installation on Procus</a></li>\n<li><a href=\"#header-18\">Upgrade an installation</a></li>\n<li><a href=\"#header-19\">Installation check - Ignoreable errors and warnings</a></li>\n</ul>\n</ul>\n</ul><p>Remember to let our Partner and large customers know beforehand about the Upgrades.</p><h1 id=\"header-1\">Datagroup(Frankfurt)</h1><h2 id=\"header-3\">ROM </h2><p>To update an Installation that currently resides within ROM (directories in htdocs are mostly symlinks), follow these steps:</p><h3 id=\"header-5\">1 . Check the latest builds of the target version:</h3><ul><li><p>helpersEfsGetVersion X.X</p></li></ul><p>Example:</p><p style=\"margin-left: 30.0px;\">MB_19.3_0004,EFS_19.3_0104<br>#testBuilds<br>TEST_19.3_0004_2,EFS_19.3_0106<br>TEST_19.3_0004_2,EFS_19.3_0111<br>TEST_19.3_0004_2,EFS_19.3_0124<br>TEST_19.3_0004_1,EFS_19.3_0133<br>TEST_19.3_0004_1,EFS_19.3_0135</p><h3 id=\"header-6\">2. Execute the upgrade script in the folder <strong>/opt/pdp/rollout2/bin</strong>:</h3><pre><code class=\"language-text\">cd /opt/pdp/rollout2/bin \n./set_efs_version.sh -c ../etc/rollout2.conf -t TEST -b EFS_19.3 -i /nfs/opstX/ab1234.customervoice360.com -p TEST -n 0004_1 </code></pre><p>Parameters explained:</p><p style=\"margin-left: 30.0px;\">-c → config Pfad<br>-t → type.  Welches BUILD soll genommen werden? TEST, LAST oder MB<br>-b → branch<br>-i → Installationspfad im Beispiel wäre das /nfs/opstX/ab1234.customervoice360.com<br>-p → pin down version to \"TEST\" or \"LAST\", mandatory if -t TEST or LAST, not needed if -t MB<br>-n → number (LAST hat keine Nummer).<br>-f → force installation into ROM if it currently is not in ROM</p><p>Im Beispiel 0004_1 für latest TEST. Es kann sein, dass hier mehrere BUILDS mit der gleichen Nummer liegen.</p><p>If so the latest is automatically selected.</p><p></p><h3 id=\"header-7\"><strong>18.4 auf 19.1</strong></h3><ac:rich-text-body><ul><li><p><strong>Upgrading from <span style=\"color: rgb(255,86,48);\">18.4</span> to <span style=\"color: rgb(255,86,48);\">19.1</span> the PHP version changes. The ticket has to be forwarded to Sysadmins again for them to adjust the Cron Jobs!</strong></p></li></ul></ac:rich-text-body><ul>\n<li><p>Check in <a href=\"http://salt01.bre.globalpark.de/repo/SG.html\">Salt</a> if all aliases of this installation are members of service groups running PHP 5.6.x .</p></li>\n<li>\n<p>For the ROM to complete correctly, the config.inc.php3 has to be adjusted for this upgrade.</p>\n<pre><code class=\"language-bash\">cd /nfs/opstXX/ab1234.customervoice360.com/htdocs/conf\nvi config.inc.php3</code></pre>\n</li>\n<li>\n<p>The following code lines have to be added: <br></p>\n<pre><code class=\"language-php\">/******* neccessary for the ROM to work with EFS &gt;= 19.1 *******/\n$__php56=true;</code></pre>\n</li>\n<li>\n<p>In the Plattform Cockpit of the installation, change the php_path to PHP 5.6</p>\n<ul>\n<li><p>from: /opt/pdp/opst/apps/php-5.3.6/bin/</p></li>\n<li><p>to: /opt/pdp/opst/apps/php56/bin/</p></li>\n</ul>\n</li>\n</ul><h3 id=\"header-8\"><strong>19.4 auf 19.5</strong></h3><ul>\n<li><p>check if both dbmaster and slave have en<ac:inline-comment-marker ac:ref=\"1bab59f5-1f98-4b48-96f1-b8c86b969928\">ough space left</ac:inline-comment-marker>:</p></li>\n<li>\n<p>login to salt, go to scripts folder</p>\n<pre><code class=\"language-text\">ssh salt\ncd /opt/pdp/saltserver/scripts</code></pre>\n</li>\n</ul><ul>\n<li><p>you can run the check for single installation or source the installations from a list [installationnames to check].txt (further below)</p></li>\n<li><pre><code class=\"language-text\">sudo ./get_upgrade_info.sh -Iab1234 (-I for info, ab1234 instname)</code></pre></li>\n<li><p>for batch lookup you need a list with installationnames/installation schema, both cases possible (with customervoice360.com or without)</p></li>\n<li>\n<p>create a list [i<ac:inline-comment-marker ac:ref=\"6e951606-f03f-4b10-828b-dd8e6f8bbd92\">nstallationnames to check</ac:inline-comment-marker>].txt in your home folder</p>\n<pre><code class=\"language-text\">[ab1234]\n[cd5678]\n...\n[yz9876]</code></pre>\n<pre><code class=\"language-text\">[ab1234].customervoice360.com\n[cd5678].customervoice360.com\n...\n[yz9876].customervoice360.com</code></pre>\n</li>\n<li>\n<p>run the script for batch lookup, replace [ ] with actual values</p>\n<pre><code class=\"language-text\">sudo /opt/pdp/saltserver/scripts/bulk_get_upgrade_info.sh /home/[current user]/[installationnames to check].txt</code></pre>\n</li>\n<li><p>If enough space is there, the returned numbers have a green color. If not, they are red.</p></li>\n</ul><p>For the Upgrade:</p><ul><li>\n<p>connect to salt:</p>\n<pre><code class=\"language-text\">ssh salt\ncd /opt/pdp/saltserver/scripts</code></pre>\n</li></ul><ac:rich-text-body><p><strong>get an overview for all steps needed, Usage:  -I&lt;Installation short name&gt;</strong></p>\n<ul><li>\n<pre><code class=\"language-text\">sh mysql2innodb_commands.sh -Iab1234</code></pre>\n<p>follow the 13 steps given here</p>\n</li></ul></ac:rich-text-body><div class=\"expand-macro\">\n<h4 string=\"manual steps listed for information\"></h4>\n<ul>\n<li>\n<p>if you wish to see which installations are currently under maintenance:</p>\n<pre><code class=\"language-text\">sudo ./maintananceStatus.sh</code></pre>\n</li>\n<li><p>disable <ac:link ac:card-appearance=\"inline\"><ri:page ri:content-title=\"Monitoring - Nagios, Pingdom\" ri:version-at-save=\"4\"></ri:page><ac:link-body>Monitoring - Nagios, Pingdom</ac:link-body></ac:link>, do check Pingdom, too!</p></li>\n<li>\n<p>deactivates crons: (may take a while as the script runs till all running crons have finished)</p>\n<pre><code class=\"language-text\">sudo ./cronDisable.sh ab1234</code></pre>\n</li>\n<li>\n<p>enables the maintenance:</p>\n<pre><code class=\"language-text\">sudo ./maintananceEnable.sh ab1234</code></pre>\n</li>\n<li><p>Port restart:</p></li>\n<li><p>TS does the upgrade</p></li>\n<li>\n<p>TS deactivates the maintenance: (no inst parameter, you will be given a choice)</p>\n<pre><code class=\"language-text\">sudo ./maintananceDisable.sh</code></pre>\n</li>\n<li>\n<p>Ts enables crons:</p>\n<pre><code class=\"language-text\">sudo ./cronEnable.sh ab1234</code></pre>\n</li>\n<li><p>enable <ac:link ac:card-appearance=\"inline\"><ri:page ri:content-title=\"Monitoring - Nagios, Pingdom\" ri:version-at-save=\"4\"></ri:page><ac:link-body>Monitoring - Nagios, Pingdom</ac:link-body></ac:link>, remember if there was a Pingdom check!</p></li>\n</ul>\n</div><h3 id=\"header-9\"><strong>19.5 auf 20.1</strong></h3><ac:rich-text-body><ul>\n<li>\n<p><strong>installations with portals need to be checked for javascript customizings using the viewModel function:</strong></p>\n<pre><code class=\"language-text\">SELECT p.name,p.id,pp.title,pp.id,pm.title,pm.id FROM portals AS p LEFT JOIN portal_pages AS pp ON (p.id = pp.portal_id) LEFT JOIN portal_page_modules AS pm ON (pm.page_id = pp.id) LEFT JOIN portal_page_module_settings AS ps ON (ps.page_module_id = pm.id) WHERE ps.value LIKE '%viewModel%' ORDER BY pm.id ASC;</code></pre>\n</li>\n<li><p><ac:parameter ac:name=\"server\">Questback</ac:parameter><ac:parameter ac:name=\"serverId\">9f8e3c23-9700-315b-9fb0-65f274062d6e</ac:parameter><ac:parameter ac:name=\"key\">KANBAN-14253</ac:parameter></p></li>\n<li><p>run  cd www /opt/pdp/opst/apps/php56/bin/php support/portal_compile_css.php</p></li>\n</ul></ac:rich-text-body><ul>\n<li>\n<p>after the upgrade is done, a script has to be executed to update deprecated layouts of projects:</p>\n<pre><code class=\"language-text\">cd www\n/opt/pdp/opst/apps/php56/bin/php support/build_project_layout.php scope=all list=true</code></pre>\n</li>\n<li><p>this gives you a list of the projects and shows you how many need to be updated</p></li>\n<li><p>to actually do the update just remove the list=true part and execute the script again</p></li>\n<li><p> <strong>you can run the script in parallelmode </strong>- change “temp.txt” and “log.txt” to installation schema [ab1234].txt and add it to a salesforce case  or KANBAN ticket if issues occur </p></li>\n<li>\n<pre><code class=\"language-text\">/opt/pdp/opst/apps/php56/bin/php support/build_project_layout.php scope=all parallel=true batchsize=25 tempfile=~/temp.txt logfile=~/log.txt</code></pre>\n<p></p>\n</li>\n<li><p>Config Flag checken survey_placeholder_security : <ac:inline-comment-marker ac:ref=\"341520b9-908f-46f4-8b87-fd38eb45b4d9\">setzen auf fas</ac:inline-comment-marker>le!</p></li>\n<li><p>If updating “old 20.1”, so build before 0322, run “conti” script from <ac:parameter ac:name=\"server\">Questback</ac:parameter><ac:parameter ac:name=\"serverId\">9f8e3c23-9700-315b-9fb0-65f274062d6e</ac:parameter><ac:parameter ac:name=\"key\">KANBAN-14420</ac:parameter>- conti_fix.php<br>if installation is  not portals and/or employee, this script might simply fail, that is not an issue for survey installations</p></li>\n</ul><p></p><h3 id=\"header-10\">3. Im Falle von <ac:inline-comment-marker ac:ref=\"e795f02d-b0b5-472f-92cc-5487442fb346\">Upgrades</ac:inline-comment-marker>\n</h3><ul>\n<li><p><ac:link ac:card-appearance=\"inline\"><ri:page ri:content-title=\"Upgradability check for installations with customizings\" ri:version-at-save=\"2\"></ri:page><ac:link-body>Upgradability check for installations with customizings</ac:link-body></ac:link> </p></li>\n<li>\n<p>is<ac:inline-comment-marker ac:ref=\"70feb216-5896-4c90-9b22-1efec0d2f6cf\">t Portals aktiviert, müssen noch die css Dateien kompiliert werden (nicht mehr nötig)</ac:inline-comment-marker></p>\n<pre><code class=\"language-text\">cd [installationspfad]/htdocs\ncd www\nphp support/portal_compile_css.php</code></pre>\n</li>\n<li>\n<p>hat die Installation customizings, muss die <strong>zendframeworkLibrary neu ausgecheckt</strong> werden</p>\n<pre><code class=\"language-text\">cd [installationspfad]/projekte/ProductCustomizingTeam/\nrm -rf zendframeworkLibrary\n\ncd ../../\ncvs -d \":pserver:gpinst:[Credentials_im_Keypass]@cvs.3uu.de:2401/vol/cvs\" checkout projekte/ProductCustomizingTeam/zendframeworkLibrary</code></pre>\n</li>\n</ul><h3 id=\"header-11\">4. Check installation</h3><p>Instcheck ausführen. Die Healself läuft in der Regel automatisch nach dem Update/Upgrade durch</p><ul>\n<li><p>Perform installation check in the platform cockpit</p></li>\n<li><p>execute healself again</p></li>\n<li>\n<p>In the console, add Globis comment with the <ac:link ac:card-appearance=\"inline\"><ri:page ri:content-title=\"Helperscripts\" ri:version-at-save=\"12\"></ri:page><ac:link-body>Helperscripts</ac:link-body></ac:link> u-script (execute in installation directory!) </p>\n<pre><code class=\"language-text\">u [Reason] Case [00888888]</code></pre>\n</li>\n<li><p>alternatively the Globis comment can be added in the detail view of the installation via the button [Add update for this installation]</p></li>\n<li><p>Run /dumps/_DONT_DELETE_thurn/addphp56 (This script checks for missing php 5.6 lines in installation configs)</p></li>\n</ul><h2 id=\"header-13\">NO ROM</h2><p>To update an Installation that currently resides outside of ROM (directories in htdocs are true directories/no symlinks), follow these steps:</p><ul>\n<li>\n<p>On a console, <strong>navigate to installation</strong></p>\n<pre><code class=\"language-text\">cd [installation path]/htdocs</code></pre>\n</li>\n<li>\n<p><strong>In case of an upgrade</strong> and if customizings are available, <strong>update zendframeworkLibrary</strong> (=check it out again)</p>\n<ul>\n<li><p>navigate to <strong>projekte/ProductCustomizingTeam/</strong> folder of installation</p></li>\n<li>\n<p>delete zendframeworkLibrary folder</p>\n<pre><code class=\"language-text\">rm -rf zendframeworkLibrary</code></pre>\n</li>\n<li><p>navigate to installation folder <strong>/nfs/opstXX/XXXX/</strong></p></li>\n<li>\n<p>and check it out again</p>\n<pre><code class=\"language-text\"> cvs co projekte/ProductCustomizingTeam/zendframeworkLibrary</code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>(if it is available) <strong>Execute Check Upgrade script</strong></p>\n<ul>\n<li>\n<p>Check it out if it should not be existent</p>\n<ul>\n<li><p>cd [Installation]/htdocs</p></li>\n<li><p>cvs -d \":pserver:gpinst@cvs.3uu.de:2401/vol/cvs\" co support/check_upgrade_from_efs_173/</p></li>\n</ul>\n</li>\n<li>\n<p>Update it, if it should be existent</p>\n<ul>\n<li><p>cd [Installation]/htdocs/support/check_upgrade_from_efs_173/</p></li>\n<li><p>cvs up</p></li>\n</ul>\n</li>\n<li>\n<p>Go back to support folder and execute script</p>\n<ul><li><p>php check_upgrade_from_efs_173/check.php</p></li></ul>\n</li>\n</ul>\n</li>\n<li>\n<p>(optional) <strong>Fix inconsistencies</strong></p>\n<pre><code class=\"language-text\">cd www\nphp support/fix_inconsistencies.php</code></pre>\n</li>\n<li>\n<p><strong>Get builds</strong> and store in /dumps folder (if not yet available there)</p>\n<pre><code class=\"language-text\">cd /dumps\nhelpersGetEfsBuild EFS_18.2</code></pre>\n</li>\n<li>\n<p><strong>Unzip builds</strong></p>\n<pre><code class=\"language-text\">unzip -q EFS_18.2_0003.zip</code></pre>\n</li>\n<li>\n<p><strong>Navigate back to installation</strong></p>\n<pre><code class=\"language-text\">cd [installation path]/htdocs</code></pre>\n</li>\n<li>\n<p><strong>Execute rsync</strong></p>\n<ul>\n<li>\n<p>Dry run</p>\n<pre><code class=\"language-text\">rsync -avnz --delete --exclude=/conf --exclude=/panelwebsite --exclude=/masterpanel --exclude=/uc /dumps/EFS_19.3_0124/* .</code></pre>\n</li>\n<li>\n<p>Actual sync</p>\n<pre><code class=\"language-text\">rsync -avzq --delete --exclude=/conf --exclude=/panelwebsite --exclude=/masterpanel --exclude=/uc /dumps/EFS_19.3_0124/* .</code></pre>\n</li>\n<li>\n<p>Actual sync (log errors into file)</p>\n<pre><code class=\"language-text\">rsync -avzq --delete --exclude=/conf --exclude=/panelwebsite --exclude=/masterpanel --exclude=/uc /dumps/EFS_19.3_0124/* .  &gt; EFS_19.3_0124_rsync_error.log 2&gt;&amp;1</code></pre>\n</li>\n</ul>\n</li>\n</ul><p></p><ul>\n<li>\n<p><strong>Execute healself</strong></p>\n<pre><code class=\"language-text\">cd www\nphp support/healself.php</code></pre>\n</li>\n<li>\n<p>Log in to installation and <strong>execute installation check</strong> * To <strong>clean up</strong>, the following folders can be deleted if they no longer are symlinked (since EFS 8.0/8.1):</p>\n<ul>\n<li><p>provider_gui</p></li>\n<li><p>static_directories</p></li>\n<li><p>In conf folder all files except from config.inc.php3, hostnames.inc.php and VERSION can be deleted</p></li>\n</ul>\n</li>\n</ul><h1 id=\"header-15\">Procus</h1><h2 id=\"header-17\">Update an installation on Procus</h2><ul>\n<li><p>Login to procus4 (e.g. via putty)</p></li>\n<li>\n<p>Navigate into /dumps folder</p>\n<ul><li><p>cd /dumps</p></li></ul>\n</li>\n<li>\n<p>Check which is the latest (sub) version of EFS</p>\n<ul>\n<li><p>helpersGetEfsVersion [version number]</p></li>\n<li><p>(example: helpersGetEfsVersion 16.3)</p></li>\n<li>\n<p>to be able to use this helpers script, you might have to add the following line to your <strong>/home/[lastname]/.bashrc first</strong></p>\n<ul><li><p><strong>. /dumps/skripte_von_dennie/EFS_TS_bashhelpers.sh</strong></p></li></ul>\n</li>\n</ul>\n</li>\n<li>\n<p>If this version isn't already available in /dumps, download it:</p>\n<pre><code class=\"language-text\">helpersGetEfsBuild [version number]</code></pre>\n<ul><li><p><em>(example: helpersGetEfsBuild EFS_16.3)</em></p></li></ul>\n</li>\n<li>\n<p><u>Alternatively</u> you can use \"wget\" to download the build version:</p>\n<pre><code class=\"language-text\">wget -N -T 30 -A zip --no-check-certificate --http-user=efsbuilds --http-password=ocieXo3eeR https://efsbuilds.3uu.de/[version number].zip</code></pre>\n<ul><li><p><em>(example: wget -N -T 30 -A zip --no-check-certificate --http-user=efsbuilds --http-password=ocieXo3eeR https://efsbuilds.3uu.de/EFS_16.3_0151.zip)</em></p></li></ul>\n</li>\n<li>\n<p>Unzip the downloaded build file</p>\n<pre><code class=\"language-text\">unzip -q EFS_16.3_0151.zip</code></pre>\n</li>\n<li>\n<p>Navigate to the installation you would like to update</p>\n<pre><code class=\"language-text\">cd /nfs/opstX/[installation URL]/htdocs</code></pre>\n</li>\n</ul><ul><li>\n<p>If customizings are available update Zend Library / check it out again</p>\n<ul>\n<li><p>navigate to projekte/ProductCustomizingTeam/ folder of installation</p></li>\n<li>\n<p>delete zendframeworkLibrary folder</p>\n<pre><code class=\"language-text\">rm -rf zendframeworkLibrary</code></pre>\n</li>\n<li>\n<p>navigate back to installation's main folder (/nfs/opstX/[installation URL]/)</p>\n<pre><code class=\"language-text\">cd ../..</code></pre>\n</li>\n<li>\n<p>and check it out again from within installation's main folder</p>\n<pre><code class=\"language-text\">cvs co projekte/ProductCustomizingTeam/zendframeworkLibrary</code></pre>\n</li>\n</ul>\n</li></ul><ul>\n<li><p>Navigate to installation's htdocs folder</p></li>\n<li>\n<p>Execute <a href=\"http://linux.die.net/man/1/rsync\">rsync[ext]</a> to synchronize the current files in htdocs with the build files in /dumps/[buildname]</p>\n<ul>\n<li>\n<p>Dry run</p>\n<pre><code class=\"language-text\">rsync -anvz --delete --exclude=/conf --exclude=/panelwebsite --exclude=/masterpanel --exclude=/uc /dumps/EFS_11.0_0160/* .</code></pre>\n</li>\n<li><p>Actual synchronization</p></li>\n<li>\n<p></p>\n<pre><code class=\"language-text\">rsync -avz --delete --exclude=/conf --exclude=/panelwebsite --exclude=/masterpanel --exclude=/uc /dumps/EFS_11.0_0160/* . </code></pre>\n</li>\n</ul>\n</li>\n</ul><ac:rich-text-body><p>MIND THE DOT AT THE END, IT IS IMPORTANT!</p></ac:rich-text-body><ul><li>\n<p>Execute the healself within the www folder of your installation (/nfs/opst/[installation URL]/htdocs/www)</p>\n<pre><code class=\"language-text\">cd www\n\nphp support/healself.php</code></pre>\n</li></ul><ac:rich-text-body><p><strong>If any healself task should fail, please contact the support team</strong></p></ac:rich-text-body><ul>\n<li><p><span style=\"color: rgb(151,160,175);\">If you are curious, you could check the task in the corresponding healself file</span></p></li>\n<li>\n<p><span style=\"color: rgb(151,160,175);\">e.g. in case the following tasks failed with errors:</span></p>\n<pre><code class=\"language-text\">panel_healself_jobs_1007::createElasticsearchIndexOnNewInstallation [Create an elasticsearch index on a new panel installation]\nTask reported it failed on line 770 in class panel_healself_jobs_100</code></pre>\n<ul>\n<li><p><span style=\"color: rgb(151,160,175);\">check modules/panel/components/healself/jobs/1007.inc.php on line 770</span></p></li>\n<li><p><span style=\"color: rgb(151,160,175);\">vi modules/panel/components/healself/jobs/1007.inc.php +770</span></p></li>\n<li>\n<p><span style=\"color: rgb(151,160,175);\">check config flag elasticsearch_configuration and add the correct server</span></p>\n<ul>\n<li><p><span style=\"color: rgb(151,160,175);\">procus: </span><a href=\"http://elasticsearch.bre.globalpark.com\">elasticsearch.bre.globalpark.com</a></p></li>\n<li><p><span style=\"color: rgb(151,160,175);\">Testkanal: tka055</span></p></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Log in to the installation and check whether the updated version is shown</p>\n<ul><li><p>Navigate to Options &gt;&gt; Platform cockpit &gt;&gt; Cockpit &gt;&gt; EFS version</p></li></ul>\n</li>\n<li>\n<p>Execute the installation check</p>\n<ul>\n<li><p>Options &gt;&gt; Platform cockpit &gt;&gt; Installation check &gt;&gt; select \"qb only:: Checks for installation requirements\" and run the check</p></li>\n<li>\n<p>You can ignore the following errors and warnings</p>\n<ul><li><p>see <a href=\"https://it.globalpark.de/twiki/bin/view/Support/TsProcusInstallations#Installation_check_Ignoreable_er\">Ignoreable errors and warnings</a></p></li></ul>\n</li>\n<li>\n<p>You also can run the installation check from the console</p>\n<pre><code class=\"language-text\">d /nfs/opst/[installation URL]/htdocs\n\ncd www\n\nphp support/test_installation.php --console</code></pre>\n</li>\n</ul>\n</li>\n</ul><h2 id=\"header-18\">Upgrade an installation</h2><p>Basically an upgrade of an installation on procus4 includes the same steps as an update (see above).<br>However, there are several things to consider:</p><ul>\n<li><p>Before upgrading an installation you should update it to the latest version of the current installed main version first (e.g. from EFS_10.9_123 to EFS_10.9_456)</p></li>\n<li><p>If your installation is old (e.g. EFS_10.7) and you would like to upgrade it to the latest EFS version (e.g. EFS_11.0 specifically e.g. EFS_11.0_0160), you can not simply upgrade from 10.7 to 11.0 in one step but have to do upgrades to each version in between, i.e. from latest 10.7 to latest 10.8 to latest 10.9 to latest 11.0</p></li>\n</ul><h2 id=\"header-19\">Installation check - Ignoreable errors and warnings</h2><p> The following errors and warnings of the installation check can be ignored:</p><ul>\n<li>\n<p>Cron Job errors (because crons jobs are not executed on procus3):</p>\n<pre><code class=\"language-text\">Error: SnailMail cron job did not run in the last 15 minute\nError: jobmaker cron job did not run in the last 25 minutes\nError: dbreportstamp cron job did not run in the last 25 hours</code></pre>\n</li>\n<li>\n<p>Errors regarding memcache and balancer (none of both is in place on procus3)</p>\n<pre><code class=\"language-text\">Error: could not connect to any memcache server\nWarning: skipping result test: memcache is not active -&gt; If you like, you can change config variable \"balancer_url\" to \"false\". The errors will not be shown then.</code></pre>\n</li>\n<li>\n<p>Other errors</p>\n<pre><code class=\"language-text\">Error: Value for config variable 'tmp_path_export' is not specified. -&gt; If you like, you can set config variable 'tmp_path_export' to the same path as 'tmp_path'. The error will not be shown then.</code></pre>\n</li>\n<li>\n<p>Proxy Errors on procus5 frontends because there is no proxy on procus 5, only pn procus4</p>\n<pre><code class=\"language-text\">Unable to Connect to tcp://proxy:8080. Error #111: Connection refused </code></pre>\n</li>\n<li>\n<p>Warnings</p>\n<pre><code class=\"language-text\">Warning: Please consider if '/data/nfs/opst/mz6587.pc.qb-feedback.com/htdocs/conf/../panelwebsite/images/editor/tiny_mce.js' should be deleted.\nWarning: Please consider if file/s \n/data/nfs/opst/mz6587.pc.qb-feedback.com/htdocs/conf/../panelwebsite/__templates/16/js_default.tpl\n/data/nfs/opst/mz6587.pc.qb-feedback.com/htdocs/conf/../panelwebsite/__templates/8/js_default.tpl\n/data/nfs/opst/mz6587.pc.qb-feedback.com/htdocs/conf/../panelwebsite/__templates/11/js_default.tpl\n/data/nfs/opst/mz6587.pc.qb-feedback.com/htdocs/conf/../panelwebsite/__templates/14/js_default.tpl\n/data/nfs/opst/mz6587.pc.qb-feedback.com/htdocs/conf/../panelwebsite/__templates/13/js_default.tpl\nshould be deleted </code></pre>\n</li>\n</ul><p></p>",
    "user_segment_ids": [
        360000084973
    ]
}