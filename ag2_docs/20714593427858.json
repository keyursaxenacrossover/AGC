{
    "id": 20714593427858,
    "url": "https://discoverxi-supportdesk.zendesk.com/api/v2/help_center/en-us/articles/20714593427858.json",
    "html_url": "https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/20714593427858-Activating-Custom-Triggers-and-Services",
    "author_id": 369584192734,
    "comments_disabled": false,
    "draft": false,
    "promoted": false,
    "position": 0,
    "vote_sum": 0,
    "vote_count": 0,
    "section_id": 20714530860562,
    "created_at": "2024-08-12T16:49:29Z",
    "updated_at": "2024-10-18T09:37:49Z",
    "name": "Activating Custom Triggers and Services",
    "title": "Activating Custom Triggers and Services",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2024-10-18T09:37:48Z",
    "user_segment_id": 360000084973,
    "permission_group_id": 1075294,
    "content_tag_ids": [],
    "label_names": [],
    "body": "<h2 id=\"h_01J6Y5NN98ECD16Q6YD505F99F\">Table of Contents</h2>\n<ul>\n<li>\n<a href=\"#header-1\">Custom Trigger Activation</a>\n<ul>\n<li><a href=\"#header-3\">Activation of custom trigger \"surveytopanelistv2\"</a></li>\n<li><a href=\"#header-5\">Semantic and key phrase triggers (text analytics) activation</a></li>\n</ul>\n</li>\n<li><a href=\"#header-7\">Activation of Custom Services</a></li>\n<li><a href=\"#h_01J7DPTGR3ZKK9346QME9GXCV6\">Activation of CLF (Closed Loop Feedback)</a></li>\n<li><a href=\"#h_01J7DRSKZZS1T7FA23Q8800E1T\">Activation of EFS Secure Exchange (Filemanager)</a></li>\n<li><a href=\"#h_01J7DRSP79KTF2V85Z1DDT9YF0\">Activation of EFS High Security Mode</a></li>\n<li>Activation of SMS Service</li>\n</ul>\n<h1 id=\"header-1\">Custom Trigger Activation</h1>\n<ul>\n<li>\n<p>Log in to the required installation with <strong>root</strong> account</p>\n</li>\n<li>\n<p>Navigate to <strong>Options &gt;&gt; Platform cockpit &gt;&gt; root only:: System configuration</strong></p>\n<ul>\n<li>\n<p>add value <code>custom</code> in the <code>modules</code> variable (if not existent yet)<br><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/21156240881042\" width=\"447\" height=\"108\"></p>\n</li>\n<li>\n<p>add a new variable to the <strong>system configuration</strong> (if not existent yet)</p>\n<ul>\n<li>\n<p>Variable name: <code>has_custom_triggers</code></p>\n</li>\n<li>\n<p>Value type: <strong>boolean</strong></p>\n</li>\n</ul>\n</li>\n<li>\n<p>Set variable to <code>true</code> afterwards<br><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/21156240888850\" width=\"380\" height=\"64\"></p>\n</li>\n</ul>\n</li>\n<li>\n<p>Check via console (<a href=\"https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/21139518716562\" target=\"_blank\" rel=\"noopener noreferrer\">How to Access and Work with DXI Service Gateways</a>) whether folder <strong>htdocs/custom/trigger</strong> exists, if not create at least the <strong>custom</strong> folder.</p>\n</li>\n<li>\n<p>Add an update to installation entry in Globis mentioning that you have enabled custom triggers</p>\n<ul>\n<li>\n<p>via console and <strong>htdocs</strong> folder:</p>\n<ul>\n<li>\n<p><code>u set has_custom_triggers to true, case [ZD_ticket_ID]</code></p>\n</li>\n</ul>\n</li>\n<li>\n<p>via <strong>Globis</strong>:</p>\n<ul>\n<li>\n<p>Open details of installation</p>\n</li>\n<li>\n<p>Click link \"Add update for this installation\"</p>\n</li>\n<li>\n<p>Files (*): All</p>\n</li>\n<li>\n<p>Description (*): <code>set has_custom_triggers to true, case [ZD_ticket_ID]</code> * Also add the module to the list of modules</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Once this is activated, you will be able to see the <strong>Custom Code</strong> trigger appearing in the instance surveys/projects.</p>\n<p><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/21156240891538\"></p>\n<h2 id=\"header-3\">Activation of custom trigger \"surveytopanelistv2\"</h2>\n<ul>\n<li>\n<p>Log in to the required installation with root account</p>\n</li>\n<li>\n<p>Navigate to <strong>Options &gt;&gt; Platform cockpit &gt;&gt; root only:: System configuration</strong></p>\n<ul>\n<li>\n<p>add value <code>custom</code> in the <code>modules</code> variable (if not existent yet)</p>\n</li>\n<li>\n<p>add a new variable</p>\n<ul>\n<li>\n<p><strong>Variable name: </strong><code>custom_triggers_allowed</code></p>\n</li>\n<li>\n<p><strong>Value Type:</strong> Array</p>\n</li>\n<li>\n<p><strong>Key:</strong> surveytopanelistv2</p>\n</li>\n<li>\n<p><strong>Type:</strong> Boolean</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Set variable to <code>true</code> afterwards</p>\n</li>\n</ul>\n</li>\n<li>Add an update to installation entry in Globis mentioning that you have enabled custom triggers\n<ul>\n<li>\n<p>via console and <strong>htdocs</strong> folder:</p>\n<ul>\n<li>\n<p><code>u set has_custom_triggers to true, case [ZD_ticket_ID]</code></p>\n</li>\n</ul>\n</li>\n<li>\n<p>via <strong>Globis</strong>:</p>\n<ul>\n<li>\n<p>Open details of installation</p>\n</li>\n<li>\n<p>Click link \"Add update for this installation\"</p>\n</li>\n<li>\n<p>Files (*): All</p>\n</li>\n<li>\n<p>Description (*): <code>set has_custom_triggers to true, case [ZD_ticket_ID]</code> * Also add the module to the list of modules</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"header-5\">Semantic and key phrase triggers (text analytics) activation</h2>\n<p>These custom triggers live in the \"azuresentiment.php\" or \"azurekeyphrase.php\" files for installations that have it. It's a core trigger, not custom.</p>\n<ul>\n<li>Log in to the required installation with <strong>root</strong> account</li>\n<li>Navigate to <strong>Options &gt;&gt; Platform cockpit &gt;&gt; root only:: System configuration</strong>\n</li>\n<li>\n<p>Set <code>azure_detect_phrases_service</code> to '<code>http://textanalyzer/azure/cognitive/detect/phrases</code>'</p>\n</li>\n<li>Set <code>sentiment_detect_service_url</code> to '<code>http://textanalyzer/azure/cognitive/detect/sentiment</code>\n</li>\n</ul>\n<p>Next you can use the below method or Curl command:</p>\n<ul>\n<li>\n<p>Go to <a href=\"http://10.250.10.115/ui\">http://10.250.10.115/ui</a> to create a new key for the customer to use when configuring the trigger.</p>\n</li>\n<li>\n<p>Open PUT /account.<br><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20714627396242\" alt=\"image-20210114-073807.png\" width=\"446\" height=\"283\"></p>\n</li>\n<li>\n<p>Click on the red/blue info bubble on the right hand (depending if you already entered the root API key).</p>\n<ul>\n<li>\n<p>A dialog opens where you have to enter the root key to authenticate yourself.</p>\n</li>\n<li>\n<p>The key can be found in the password safe under 'Root key Portal zur Accountverwaltung Textanalytics'</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Click on the text field under 'example value' on the right side. The example value filled array will be copied to the text area for value of the account.<br><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20714575527698\" alt=\"image-20210114-074035.png\" width=\"404\" height=\"256\"></p>\n</li>\n<li>\n<p>Hit 'Try it out!'. The key will appear in a textfield below (Response Body).</p>\n</li>\n<li>\n<p>Copy the key and send it to the customer (add it to the case).</p>\n</li>\n<li>Add an update to installation entry in Globis mentioning that you have enabled custom triggers\n<ul>\n<li>\n<p>via console and <strong>htdocs</strong> folder:</p>\n<ul>\n<li>\n<p><code>u set has_custom_triggers to true, case [ZD_ticket_ID]</code></p>\n</li>\n</ul>\n</li>\n<li>\n<p>via <strong>Globis</strong>:</p>\n<ul>\n<li>\n<p>Open details of installation</p>\n</li>\n<li>\n<p>Click link \"Add update for this installation\"</p>\n</li>\n<li>\n<p>Files (*): All</p>\n</li>\n<li>\n<p>Description (*): <code>set has_custom_triggers to true, case [ZD_ticket_ID]</code> * Also add the module to the list of modules</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>OR <strong>Curl Command</strong>: Sample command below-- replace Installation name and technical name</p>\n<pre><span class=\"\" style=\"color: #172b4d; font-family: ui-monospace, Menlo, ' Segoe UI Mono' , ' Ubuntu Mono' , monospace; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; background-color: rgba(9, 30, 66, 0.06); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\">curl -X PUT --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'x-api-key: ***' -d '{ \\ </span><span style=\"color: #172b4d; font-family: ui-monospace, Menlo, ' Segoe UI Mono' , ' Ubuntu Mono' , monospace; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; background-color: rgba(9, 30, 66, 0.06); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;\"> \"customer\": \"ABCD company GmbH\", \\ </span><span style=\"color: #172b4d; font-family: ui-monospace, Menlo, ' Segoe UI Mono' , ' Ubuntu Mono' , monospace; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; background-color: rgba(9, 30, 66, 0.06); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;\"> \"description\": \"Requested in #449xx33\", \\ </span><span style=\"color: #172b4d; font-family: ui-monospace, Menlo, ' Segoe UI Mono' , ' Ubuntu Mono' , monospace; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; background-color: rgba(9, 30, 66, 0.06); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;\"> \"name\": \"ABCD company GmbH (ab1234)\", \\ </span><span style=\"color: #172b4d; font-family: ui-monospace, Menlo, ' Segoe UI Mono' , ' Ubuntu Mono' , monospace; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; background-color: rgba(9, 30, 66, 0.06); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;\"> \"installation\":\"ab1234.customervoice360.com\" \\ </span><span style=\"color: #172b4d; font-family: ui-monospace, Menlo, ' Segoe UI Mono' , ' Ubuntu Mono' , monospace; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; background-color: rgba(9, 30, 66, 0.06); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;\"> }' 'http://10.250.10.115/account'</span></pre>\n<h1 id=\"header-7\">Activation of Custom Services</h1>\n<ul>\n<li>\n<p>Activate webservices by going to <strong>Options -&gt; Platform cockpit -&gt; root only:: System configuration</strong> and change</p>\n<ul>\n<li>\n<p><code>has_webservices</code> to <strong>true</strong></p>\n</li>\n<li>\n<p><code>modules</code> and add <strong>custom</strong></p>\n</li>\n</ul>\n</li>\n<li>\n<p>Place your custom service in the installation's folder:</p>\n<ul>\n<li>\n<p><code>htdocs/custom/service/actor/SERVICE_PROVIDER.php</code></p>\n</li>\n</ul>\n</li>\n<li>\n<p>Read custom service by going to <strong>Options -&gt; services -&gt; qb only:: Auto detect services</strong></p>\n</li>\n<li>\n<p>add an update to Globis for the installation by mentioning the activated modules and the support case</p>\n<ul>\n<li><code>u activated custom webservices  [ZD_ticket_ID]</code></li>\n</ul>\n</li>\n</ul>\n<p>If the service can’t be imported, check the permissions on the folder <code>htdocs/custom</code>, it needs the rights <strong>775</strong>. Then, the service has to be written in a specific way to function, check with TC if the service is correct.</p>\n<p><em><strong>NOTE:</strong> The parser for the WSDL only allows Unix line breaks, or only Windows line breaks, everything else leads to errors!</em></p>\n<p> </p>\n<h1 id=\"h_01J7DPTGR3ZKK9346QME9GXCV6\">Activation of CLF (Closed Loop Feedback)</h1>\n<h3 id=\"h_01J7DPX93G47W56CCYVKJT2KB1\">Dependencies</h3>\n<p>Other modules needed for the Closed Loop Feedback:</p>\n<ul>\n<li>MySight v2</li>\n<li>Employee</li>\n</ul>\n<h3 id=\"h_01J7DPXNQQ0P6AGKM0WD5Y91VD\">Activate CLF</h3>\n<ul>\n<li>\n<p>As the root user, go to <strong>Options -&gt; Platform cockpit -&gt; root only:: System configuration</strong> and change</p>\n<ul>\n<li>\n<p><code>clf_enable</code> to <strong>true</strong></p>\n</li>\n</ul>\n</li>\n<li>Run <strong>healself</strong> in the Service Gateway (<a href=\"https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/21139518716562\" target=\"_blank\" rel=\"noopener noreferrer\">How to Access and Work with DXI Service Gateways</a>)</li>\n<li>\n<p>add an update to Globis for the installation by mentioning the activated modules and the support case</p>\n<ul>\n<li><code>u activated clf_enable [ZD_ticket_ID]</code></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"h_01J7DRSKZZS1T7FA23Q8800E1T\">Activation of EFS Secure Exchange (Filemanager)</h1>\n<p>The Exchange Platform for Teams to securely upload and download files, and is available since EFS 10.1 and above:</p>\n<ul>\n<li>\n<p>As the root user, go to <strong>Options -&gt; Platform cockpit -&gt; root only:: System configuration</strong> and change</p>\n<ul>\n<li>\n<p><code>provider_gui_dir</code> and add <strong>fm</strong></p>\n</li>\n<li>\n<code>modules</code> and add <strong>fm</strong>\n</li>\n</ul>\n</li>\n<li>Run <strong>healself</strong> in the Service Gateway (<a href=\"https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/21139518716562\" target=\"_blank\" rel=\"noopener noreferrer\">How to Access and Work with DXI Service Gateways</a>)</li>\n<li>\n<p>add an update to Globis for the installation by mentioning the activated modules and the support case</p>\n<ul>\n<li><code>u activated fm [ZD_ticket_ID]</code></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"h_01J7DRSP79KTF2V85Z1DDT9YF0\">Activation of EFS High Security Mode</h1>\n<h3 id=\"h_01J7DS48ZFWAMXNGYT4VVWKHVK\">Prerequisites</h3>\n<p>Please check if the standard “high security mode” is needed or the newer “high security” that is exclusive for the panelwebsite.</p>\n<ul>\n<li>If the panelwebsite is needed enable config variable:  <code>panelwebsite_high_security</code>\n</li>\n<li>If the standard version is needed proceed with the steps below.</li>\n</ul>\n<p>The installation and all aliases need to have SSL certificates or otherwise an SSL warning will be shown!</p>\n<h3 id=\"h_01J7DS4VBFPNT1KQXJRAT0SR09\">Module Activation</h3>\n<ul>\n<li>\n<p>As the root user, go to <strong>Options -&gt; Platform cockpit -&gt; root only:: System configuration</strong> and change</p>\n<ul>\n<li>\n<p><code>high_security</code> to <strong>true</strong></p>\n</li>\n<li>\n<code>force_ssl</code> to <strong>true</strong>\n<ul>\n<li><strong>This last option requires frontend restarts, so a SaaS CR needs to be logged to finalize this.</strong></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"h_01J7DS8TEC77KQ21XA9QWXYZXY\">Optional flags that can be set</h3>\n<ul>\n<li>\n<code>admin_session_highsecurity_timeout</code>: Timeout for admin session iof high security mode is enabled. <br><strong>Default:</strong> 900</li>\n<li>\n<code>password_repeat_count</code>: password history. check the last x passwords if the password has been used before. <br><strong>Default:</strong> 0</li>\n<li>\n<code>password_len</code>: Minimum password length. If high_security is on and this option is configured to 6 characters, the minimum used is 8 characters. <br><strong>Default: </strong>'8 characters'</li>\n<li>\n<code>password_alg</code>: Algorithm used to check password complexity. <br><strong>Default: </strong>7 (Upper and lower case and either numbers or special characters)</li>\n<li>\n<code>pass_interval</code>: period of validity (in days). <br><strong>Default: </strong>100</li>\n<li>\n<code>brute_force</code>: Number of failed logins after brute force protection is activated.<br><strong>Default: </strong>6</li>\n<li>\n<code>brute_force_time</code>: Time for which bruteforce-attempted accounts are blocked (in seconds).<br><strong>Default: </strong>1800</li>\n</ul>\n<h1 id=\"h_01J7DVGTBXH35YDRRZX4WSFJ98\">Activation of SMS Service</h1>\n<ul>\n<li>\n<p>As the root user, go to <strong>Options -&gt; Platform cockpit -&gt; root only:: System configuration</strong> and change</p>\n<ul>\n<li>\n<p><code>smsDelivery</code> &gt;&gt; <code>isActive</code> to <strong>true<br><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/21278401794578\" alt=\"image-20240613-075303.png\"></strong></p>\n</li>\n</ul>\n</li>\n<li>\n<p>add an update to Globis for the installation by mentioning the activated modules and the support case</p>\n<ul>\n<li><code>u activated sms [ZD_ticket_ID]</code></li>\n</ul>\n</li>\n</ul>\n<p> </p>\n<p> </p>\n<p> </p>",
    "user_segment_ids": [
        360000084973
    ]
}