{
    "id": 20717195093778,
    "url": "https://discoverxi-supportdesk.zendesk.com/api/v2/help_center/en-us/articles/20717195093778.json",
    "html_url": "https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/20717195093778-User-Ingestion",
    "author_id": 369584192734,
    "comments_disabled": false,
    "draft": true,
    "promoted": false,
    "position": 0,
    "vote_sum": 0,
    "vote_count": 0,
    "section_id": 20714711445138,
    "created_at": "2024-08-12T20:18:34Z",
    "updated_at": "2024-08-12T20:18:39Z",
    "name": "User Ingestion",
    "title": "User Ingestion",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2024-08-12T20:18:39Z",
    "user_segment_id": 360000084973,
    "permission_group_id": 1075294,
    "content_tag_ids": [],
    "label_names": [],
    "body": "<p><b>Original Confluence URL:</b> <a href=\"https://qbdocs.atlassian.net/wiki/spaces/IAM/pages/3510108188\">https://qbdocs.atlassian.net/wiki/spaces/IAM/pages/3510108188</a> - please cross-check the quality of the ZD article with the Confluence counterpart and remove this line before publishing the ZD article</p>\n\n<h2>Table of Contents</h2>\n<ul class=\"toc\">\n<ul>\n<li><a href=\"#header-1\">Steps for user ingestion:</a></li>\n<ul>\n<li><a href=\"#header-3\">Prerequisites:</a></li>\n<li><a href=\"#header-4\">Not covered steps/flows:</a></li>\n</ul>\n</ul>\n</ul><p>Typically a user is not created directly within the authentication system. The authentication system just stores the credentials of a user and is dedicated to manage credential and other authentication relevant information.</p><p></p><p></p><h1 id=\"header-1\">Steps for user ingestion:</h1><h2 id=\"header-3\">Prerequisites:</h2><p>A user got created e.g. in the user management system. This system publishes the user created event. This contains the basic user data like a user name/email that will be used for login as well as additional data that might be used in a token.</p><ol>\n<li><p>User created event is read from the Kafka and validated by the ingestion service.</p></li>\n<li><p>The ingestion service creates the synced user in KeyCloak via REST API.</p></li>\n<li><p>KeyCloak stores the user in the KeyCloak database.</p></li>\n<li><p>KeyCloak triggers an email so that the user can set the password - <ac:parameter ac:name=\"title\">pending</ac:parameter><ac:parameter ac:name=\"colour\">Yellow</ac:parameter>  this uses an email service</p></li>\n<li><p>…</p></li>\n<li><p>The user receives the email and clicks on the provided password link.</p></li>\n<li><p>The user sets the password at the KeyCloak frontend.</p></li>\n<li><p>The user’s password is stored by KeyCloak.</p></li>\n</ol><p>Finally the user has provided the necessary credentials.</p><p></p><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20717109769874\" alt=\"Architecture Diagrams - Runtime - User Sync.png\"><p></p><h2 id=\"header-4\">Not covered steps/flows:</h2><ul>\n<li><p>MFA / setting up MFA</p></li>\n<li><p>sign-up flows that might directly lead to a password page</p></li>\n</ul>",
    "user_segment_ids": [
        360000084973
    ]
}