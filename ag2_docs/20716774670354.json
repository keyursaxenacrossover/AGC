{
    "id": 20716774670354,
    "url": "https://discoverxi-supportdesk.zendesk.com/api/v2/help_center/en-us/articles/20716774670354.json",
    "html_url": "https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/20716774670354-OIDC-Federation",
    "author_id": 369584192734,
    "comments_disabled": false,
    "draft": false,
    "promoted": false,
    "position": 0,
    "vote_sum": 0,
    "vote_count": 0,
    "section_id": 20714711445138,
    "created_at": "2024-08-12T19:41:58Z",
    "updated_at": "2024-08-23T11:13:27Z",
    "name": "OIDC Federation",
    "title": "OIDC Federation",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2024-08-23T11:12:58Z",
    "user_segment_id": 360000084973,
    "permission_group_id": 1075294,
    "content_tag_ids": [],
    "label_names": [],
    "body": "<h1 id=\"h_01J5ZETC5WC2XGVPZCMK7HM0HS\">Overview</h1>\n<p>Open ID Connect (OIDC) is a authentication (and authorization) protocol that can be used to federate authentication. Therefore an OIDC IdP can be used to be federated with Okta.</p>\n<p>Open ID Connect (OIDC) Identity Providers are preferred over SAML due to a more simple setup.</p>\n<ul>\n<li>OIDC Spec <a href=\"https://openid.net/developers/specs/\">https://openid.net/developers/specs/</a>\n</li>\n<li>OIDC is based on OAuth 2.0 - see <a href=\"https://tools.ietf.org/html/rfc6749\">https://tools.ietf.org/html/rfc6749</a>\n</li>\n</ul>\n<h1 id=\"h_01J5ZESGRBBM4X24CAGGRXDB4W\">Table of Contents</h1>\n<ul>\n<li>\n<a href=\"#header-1\">Prerequisites:</a>\n<ul>\n<li><a href=\"#header-3\">What values are used for our Federation and what do they mean?</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"header-1\">Prerequisites:</h1>\n<p>The OIDC provider should send all necessary information in a token request. The mandatory fields are</p>\n<ul>\n<li>\n<p>email address</p>\n</li>\n<li>\n<p>first name</p>\n</li>\n<li>\n<p>last name</p>\n</li>\n</ul>\n<p>A domain (or domains) for routing purposes should be known (with regards to the email-address domain). Otherwise the IdP could not be used as intended.</p>\n<p>A client ID and a client secret have to be provided by the identity provider. And our redirect URI has to be applied to that client ID and client secret.</p>\n<ul>\n<li>In our case, OIDC federation creates a trust between Okta and an external OIDC IdP. Therefore Okta will send a specific group of users to the external IdP to authenticate and get a trusted result of that authentication containing some user information.</li>\n<li>When using OIDC, a discovery-document (well-known) can be used to get the basic information about the authentication and authorization flows that are supported. It is usually publicly available as it only contains public information.</li>\n</ul>\n<h2 id=\"header-3\">What values are used for our Federation and what do they mean?</h2>\n<table border=\"1\" data-layout=\"default\">\n<colgroup> <col style=\"width: 111.0px;\"> <col style=\"width: 128.0px;\"> <col style=\"width: 268.0px;\"> <col style=\"width: 169.0px;\"> </colgroup>\n<thead>\n<tr>\n<th style=\"width: 86.0781px;\">\n<p><strong>Source</strong></p>\n</th>\n<th style=\"width: 170.703px;\">\n<p><strong>What</strong></p>\n</th>\n<th style=\"width: 169.875px;\">\n<p><strong>Meaning</strong></p>\n</th>\n<th style=\"width: 325.328px;\">\n<p><strong>Example</strong></p>\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"width: 78.0781px;\" rowspan=\"5\">\n<p><strong>discovery document</strong></p>\n<br>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n</td>\n<td style=\"width: 162.703px;\">\n<p>token_endpoint</p>\n</td>\n<td style=\"width: 161.875px;\">\n<p>Endpoint to get new tokens for the different flows. In our case an endpoint to exchange a code for a token.</p>\n</td>\n<td style=\"width: 317.328px;\">\n<p><a href=\"https://login.microsoftonline.com/dc79dd1a-883e-438c-b396-dc9fb7f66bf1/oauth2/v2.0/token\">https://login.microsoftonline.com/dc79dd1a-883e-438c-b396-dc9fb7f66bf1/oauth2/v2.0/token</a> </p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 162.703px;\">\n<p>authorization_endpoint</p>\n</td>\n<td style=\"width: 161.875px;\">\n<p>Endpoint to Authenticate/Authorize a user. A user will be send to that endpoint to authneticate.</p>\n</td>\n<td style=\"width: 317.328px;\">\n<p><a href=\"https://login.microsoftonline.com/dc79dd1a-883e-438c-b396-dc9fb7f66bf1/oauth2/v2.0/authorize\">https://login.microsoftonline.com/dc79dd1a-883e-438c-b396-dc9fb7f66bf1/oauth2/v2.0/authorize</a> </p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 162.703px;\">\n<p>jwks_uri</p>\n</td>\n<td style=\"width: 161.875px;\">\n<p>Location where Keys for OpenID connect are stored. These keys might rotate. Therefore this document is not static long term.</p>\n</td>\n<td style=\"width: 317.328px;\">\n<p><a href=\"https://login.microsoftonline.com/dc79dd1a-883e-438c-b396-dc9fb7f66bf1/discovery/v2.0/keys\">https://login.microsoftonline.com/dc79dd1a-883e-438c-b396-dc9fb7f66bf1/discovery/v2.0/keys</a> </p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 162.703px;\">\n<p>issuer</p>\n</td>\n<td style=\"width: 161.875px;\">\n<p>A value to validate who issued tokens.</p>\n</td>\n<td style=\"width: 317.328px;\">\n<p><a href=\"https://login.microsoftonline.com/dc79dd1a-883e-438c-b396-dc9fb7f66bf1/v2.0\">https://login.microsoftonline.com/dc79dd1a-883e-438c-b396-dc9fb7f66bf1/v2.0</a> </p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 162.703px;\">\n<p>scopes</p>\n</td>\n<td style=\"width: 161.875px;\">\n<p>A number of “topics” that could be asked for during authentication. It will result in a number of claims (particular values) after authentication.</p>\n</td>\n<td style=\"width: 317.328px;\">\n<p>[\"openid\",\"profile\",\"email\",\"offline_access\"]</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 78.0781px;\" rowspan=\"2\">\n<p><strong>external Identity Provider</strong></p>\n<br>\n<p> </p>\n<p> </p>\n</td>\n<td style=\"width: 162.703px;\">\n<p>client id</p>\n</td>\n<td style=\"width: 161.875px;\">\n<p>An ID to identify the connection between Okta an the external Identity Provider.</p>\n</td>\n<td style=\"width: 317.328px;\">\n<p> </p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 162.703px;\">\n<p>client secret</p>\n</td>\n<td style=\"width: 161.875px;\">\n<p>A secret to create trust between Okta an the external Identity Provider.</p>\n</td>\n<td style=\"width: 317.328px;\">\n<p> </p>\n</td>\n</tr>\n</tbody>\n</table>\n<p> </p>",
    "user_segment_ids": [
        360000084973
    ]
}