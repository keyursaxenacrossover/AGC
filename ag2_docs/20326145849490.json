{
    "id": 20326145849490,
    "url": "https://discoverxi-supportdesk.zendesk.com/api/v2/help_center/en-us/articles/20326145849490.json",
    "html_url": "https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/20326145849490-ClamAV-Malware-Scanning-in-EFS",
    "author_id": 369584192734,
    "comments_disabled": false,
    "draft": false,
    "promoted": false,
    "position": 0,
    "vote_sum": 0,
    "vote_count": 0,
    "section_id": 20234751255186,
    "created_at": "2024-07-23T14:20:49Z",
    "updated_at": "2024-07-24T15:52:43Z",
    "name": "ClamAV Malware Scanning in EFS",
    "title": "ClamAV Malware Scanning in EFS",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2024-07-24T15:52:40Z",
    "user_segment_id": 360000084973,
    "permission_group_id": 1075294,
    "content_tag_ids": [],
    "label_names": [],
    "body": "<p><span style=\"font-size: 2.1em;\">Overview</span></p>\n<article>\n<p>This article provides a comprehensive guide to the Malware Scanner service, covering its architecture, implementation, and integration within Tivian's software ecosystem. It details the system's components, deployment strategy, and operational considerations.</p>\n<h1 id=\"h_01HGKSMPRSYYE7GMM7DZ0VCKXK\">Information</h1>\n<p>Starting with EFS 22.2, in addition to the regular scans, all EFS installations are protected out of the box with the popular open sourced ClamAV® against anti-virus and malware. The anti-virus signatures are automatically being updated and the service is scaling automatically depending on the load and overall performance of the malware scanner.</p>\n<p>Uploaded files are immediately scanned, before being processed further or moved to their final destination within EFS and in case malware was found, the user will be informed about the exception and his upload will be immediately destroyed.</p>\n<p>In the survey module, the message can be modified in the configuration of the question type.</p>\n<ul>\n<li><a href=\"#introduction\">Introduction and Goals</a></li>\n<li><a href=\"#architecture\">System Architecture</a></li>\n<li><a href=\"#implementation\">Implementation Details</a></li>\n<li><a href=\"#deployment\">Deployment and Operations</a></li>\n<li><a href=\"#integration\">Integration and Usage</a></li>\n<li><a href=\"#quality\">Quality and Performance</a></li>\n<li><a href=\"#risks\">Risks and Technical Debt</a></li>\n<li><a href=\"#h_01J3JPXA882KGP28RDCK6BE78S\">Helpful links</a></li>\n</ul>\n<h2 id=\"introduction\">Introduction and Goals</h2>\n<p>The Malware Scanner is designed to enhance security measures by automatically scanning all uploaded files to detect and prevent the distribution of malware, viruses, or other harmful content. This system aims to protect the integrity of the application and mitigate threats to users' data and systems.</p>\n<h3 id=\"h_01J3FZNNARVY9V8BT0SHX50J0G\">Quality Goals / Cross Functional Goals</h3>\n<ul>\n<li>Implement stringent security measures to protect sensitive data</li>\n<li>Ensure high maintainability for easy updates and extensions</li>\n<li>Provide reliable and continuous operation with minimal downtime</li>\n<li>Scale horizontally to accommodate increasing loads</li>\n</ul>\n<h2 id=\"architecture\">System Architecture</h2>\n<p>The system is designed to be accessed internally by Tivian systems and is not directly accessible by external parties. It connects to an external service (freshclam server) to update malware signatures and scanning algorithms.</p>\n<p><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20346625528850\" width=\"574\" height=\"436\"></p>\n<h3 id=\"h_01J3JEFD6WPHJP2Y1XWV391MSP\">Key components</h3>\n<table style=\"margin-right: 0px; margin-left: 0px; border-collapse: collapse; width: 760px; border: 1px solid var(--ds-background-accent-gray-subtler,#c1c7d0); height: 1px; background-color: #ffffff;\" data-testid=\"renderer-table\" data-number-column=\"false\" data-table-width=\"760\" data-layout=\"default\">\n<colgroup> <col style=\"width: 224px;\"> <col style=\"width: 532px;\"> </colgroup>\n<tbody>\n<tr style=\"height: 46.4219px;\">\n<th class=\"ak-renderer-tableHeader-sortable-column__wrapper\" style=\"padding: 0px; text-align: left; vertical-align: top; background-color: var(--ds-background-accent-gray-subtlest,#f4f5f7);\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"225\" aria-sort=\"none\">\n<div class=\"ak-renderer-tableHeader-sortable-column\">\n<p data-renderer-start-pos=\"415\"><strong data-renderer-mark=\"true\">Component</strong></p>\n<figure class=\"ak-renderer-tableHeader-sorting-icon__wrapper ak-renderer-tableHeader-sorting-icon__no-order\">\n<div role=\"presentation\">\n<div class=\"ak-renderer-tableHeader-sorting-icon  cc-1eczmg9\" tabindex=\"0\" role=\"button\" aria-label=\"No sort applied to the column\" aria-disabled=\"false\">\n<div class=\"sorting-icon-svg__no_order ak-renderer-tableHeader-sorting-icon-inactive cc-37vp66\">\n<div class=\"cc-1uj2pwb\"> </div>\n</div>\n</div>\n</div>\n</figure>\n</div>\n</th>\n<th class=\"ak-renderer-tableHeader-sortable-column__wrapper\" style=\"padding: 0px; text-align: left; vertical-align: top; background-color: var(--ds-background-accent-gray-subtlest,#f4f5f7);\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"533\" aria-sort=\"none\">\n<div class=\"ak-renderer-tableHeader-sortable-column\">\n<p data-renderer-start-pos=\"428\"><strong data-renderer-mark=\"true\">Purpose</strong></p>\n<figure class=\"ak-renderer-tableHeader-sorting-icon__wrapper ak-renderer-tableHeader-sorting-icon__no-order\">\n<div role=\"presentation\">\n<div class=\"ak-renderer-tableHeader-sorting-icon  cc-1eczmg9\" tabindex=\"0\" role=\"button\" aria-label=\"No sort applied to the column\" aria-disabled=\"false\">\n<div class=\"sorting-icon-svg__no_order ak-renderer-tableHeader-sorting-icon-inactive cc-37vp66\">\n<div class=\"cc-1uj2pwb\"> </div>\n</div>\n</div>\n</div>\n</figure>\n</div>\n</th>\n</tr>\n<tr>\n<th style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top; background-color: var(--ds-background-accent-gray-subtlest,#f4f5f7);\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"225\">\n<p data-renderer-start-pos=\"441\"><strong data-renderer-mark=\"true\">Malware Scanner</strong></p>\n</th>\n<td style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top;\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"533\">\n<p data-renderer-start-pos=\"460\">Main system used to scan for malware.</p>\n</td>\n</tr>\n<tr>\n<th style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top; background-color: var(--ds-background-accent-gray-subtlest,#f4f5f7);\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"225\">\n<p data-renderer-start-pos=\"503\"><strong data-renderer-mark=\"true\">Freshclam</strong></p>\n</th>\n<td style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top;\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"533\">\n<p data-renderer-start-pos=\"516\">An external service to download malware definitions/signatures.</p>\n</td>\n</tr>\n<tr>\n<th style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top; background-color: var(--ds-background-accent-gray-subtlest,#f4f5f7);\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"225\">\n<p data-renderer-start-pos=\"585\"><strong data-renderer-mark=\"true\">DV</strong></p>\n</th>\n<td style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top;\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"533\">\n<p data-renderer-start-pos=\"591\">A reporting tool that allows file uploads but it is not yet connected to the malware scanner.</p>\n</td>\n</tr>\n<tr>\n<th style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top; background-color: var(--ds-background-accent-gray-subtlest,#f4f5f7);\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"225\">\n<p data-renderer-start-pos=\"687\"><strong data-renderer-mark=\"true\">EFS</strong></p>\n</th>\n<td style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top;\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"533\">\n<p data-renderer-start-pos=\"694\">A flexible, powerful feedback tool that allows file uploads in multiple places. Is uses the malware scanner service.</p>\n</td>\n</tr>\n<tr>\n<th style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top; background-color: var(--ds-background-accent-gray-subtlest,#f4f5f7);\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"225\">\n<p data-renderer-start-pos=\"816\"><strong data-renderer-mark=\"true\">Unity</strong></p>\n</th>\n<td style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top;\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"533\">\n<p data-renderer-start-pos=\"825\">A wrapper around CXI and DXI that allows file uploads and uses the scanner.</p>\n</td>\n</tr>\n<tr>\n<th style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top; background-color: var(--ds-background-accent-gray-subtlest,#f4f5f7);\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"225\">\n<p data-renderer-start-pos=\"906\"><strong data-renderer-mark=\"true\">AI Proxy</strong></p>\n</th>\n<td style=\"padding: var(--ds-space-100,8px); text-align: left; vertical-align: top;\" colspan=\"1\" rowspan=\"1\" data-colwidth=\"533\">\n<p data-renderer-start-pos=\"918\">An AI based solution that might enable file uploads and therefore might use the malware scanner in future.</p>\n</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"implementation\">Implementation Details</h2>\n<p><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20346625530642\" alt=\"Malware Scanning - Building Blocks.png\"></p>\n<h3 id=\"h_01J3JPGMA60ZGVMF9GR66ZZC3M\">Malware Scanner (ClamAV Container)</h3>\n<p>The Malware Scanner, powered by the ClamAV container, is the main tool for checking uploaded files for harmful content. It uses the ClamAV open-source antivirus engine for signature-based scanning, heuristic analysis, and malware detection. The container is set up with the ClamAV image (repository: clamav/clamav) obtained from the specified container registry.</p>\n<h3 id=\"h_01J3JPGMA69TEZPE2WZF57Z4P7\">REST API (ClamAV REST Container)</h3>\n<p>The REST API, built with the ClamAV REST container, acts as a communication interface for interacting with the ClamAV scanner and connecting it with other system parts and external services. The ClamAV REST container provides HTTP endpoints for uploading files, starting scanning tasks, getting scanning results, and managing scanning settings. It is configured with the newest version of the ClamAV REST image (repository: <a href=\"http://ghcr.io/maltekrupa/clamav-rest\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>) obtained from the specified container registry.</p>\n<p>This container acts as a reverse proxy, sending uploaded files to the ClamAV component for scanning, and then sending back a success or failure message to the requester.</p>\n<h3 id=\"h_01J3JPGMA6DHWMNA34YT9MJPMG\">Cronjob (Freshclam Update)</h3>\n<p>The Cronjob, named cron-clamfresh, is a scheduled task responsible for regularly updating the virus signature database used by the ClamAV scanner. This task is set up in the Helm chart with a defined schedule (e.g., daily, weekly) to fetch updates from the freshclam server.</p>\n<p>The updates are kept current in the ClamAV container using a shared volume.</p>\n<p>This cronjob is linked with the ClamAV container and makes use of Kubernetes CronJob resources to automate the updating process based on the specified schedule.</p>\n<h3 id=\"h_01J3FZNNAR1QC84KTDW1BVDD74\">Scanning Process</h3>\n<p><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20346625532434\" width=\"301\" height=\"262\"></p>\n<ol>\n<li>User uploads a file through the software interface</li>\n<li>File is temporarily stored on NFS</li>\n<li>REST API receives the file and initiates the scanning task</li>\n<li>ClamAV container performs the scan</li>\n<li>Scan results are returned to the REST API</li>\n<li>Application is informed of the scanning outcome</li>\n</ol>\n<h3 id=\"h_01J3FZNNARREY4SG8NW72626J1\">Updating Malware Signatures</h3>\n<p><!--StartFragment --></p>\n<p><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20349832706450\" width=\"357\" height=\"168\"><img> <!--EndFragment --></p>\n<ol>\n<li>A cronjob downloads the latest definitions from the freshclam server</li>\n<li>Updated definitions are stored in shared storage accessible by the scanning container</li>\n</ol>\n<h2 id=\"deployment\">Deployment and Operations</h2>\n<p><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20349832707602\" width=\"506\" height=\"273\"></p>\n<p>The Malware Scanner is deployed using Kubernetes with the following considerations:</p>\n<ul>\n<li>Components are deployed as containers within Kubernetes</li>\n<li>A Kubernetes service resource is used for load balancing</li>\n<li>Shared storage is mounted by the upload job and all scanning pods/containers</li>\n<li>Horizontal Pod Autoscaler is configured for automatic scaling based on resource usage</li>\n</ul>\n<h2 id=\"integration\">Integration and Usage</h2>\n<p>The Malware Scanner is integrated into various Tivian areas, as per the below (Internal / Support only uploads are not listed, but are scanned as well):</p>\n<h3 id=\"Surveys\" data-renderer-start-pos=\"838\">Surveys</h3>\n<ul class=\"ak-ul\" data-indent-level=\"1\">\n<li>\n<p data-renderer-start-pos=\"849\">Upload Question Type</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"873\">Audio Recorder Question Type</p>\n</li>\n</ul>\n<h3 id=\"Portals\" data-renderer-start-pos=\"905\">Portals</h3>\n<ul class=\"ak-ul\" data-indent-level=\"1\">\n<li>\n<p data-renderer-start-pos=\"916\">Action board page module / Action - Upload attachment</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"973\">Task List page module / Task - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1019\">User profile page module - Upload new picture</p>\n</li>\n</ul>\n<h3 id=\"Portals-CMS-Admin\" data-renderer-start-pos=\"1068\">Portals CMS Admin</h3>\n<ul class=\"ak-ul\" data-indent-level=\"1\">\n<li>\n<p data-renderer-start-pos=\"1089\">Look &amp; Feel / Images - Upload file for \"Favicon\" or \"Logo\" or \"Portal Image\"</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1169\">Guides / Guide / Basic information - Upload image</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1222\">Guides / Guide / Invitation - Upload image for voucher</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1280\">Settings / Languages - Upload import-file<br><em data-renderer-mark=\"true\">Panel Website</em></p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1339\">Panel Website user view / Community / Forum / Topic / Create new thread - Upload .jpg file</p>\n</li>\n</ul>\n<h3 id=\"EFS-Admin\" data-renderer-start-pos=\"1433\">EFS Admin</h3>\n<ul class=\"ak-ul\" data-indent-level=\"1\">\n<li>\n<p data-renderer-start-pos=\"1446\">Libraries / Mail templates / Import draft - upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1505\">Libraries / Mail templates / Edit template / Add an attachment</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1571\">Libraries / Survey messages / Import messages - upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1634\">Libraries / Question types / Import - upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1687\">Libraries / Consent form templates / Import templates - upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1758\">People / Groups / Import group - upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1806\">People / Panelist administration / Send mail to panelists / Add an attachment</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1887\">People / Panelist administration / Panelist administration / Import panelists - upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"1982\">People / Panelist administration / Panelist administration / Update data - upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2072\">People / Panelist administration / Candidates / Import panelists - upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2154\">People / Panelist administration / Candidates / Update data - upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2231\">Options / File exchange / Upload file (also in fm-area)</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2290\">Options / ACL rights / Rights templates / Import ACL rights template - upload</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2371\">Projects / Import project / Upload file (incl. included files in GPX)</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2444\">Projects / Survey menu / Layout / Standard editor / Logos - Upload logo</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2519\">Projects / Survey menu / Layout / Pro editor / Structure / Import - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2602\">Projects / Survey menu / Layout / Pro editor / Upload - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2673\">Projects / Survey menu / Layout / Layout templates / Import template - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2759\">Projects / Survey menu / Questionnaire editor / Language editor / Import - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2849\">Projects / Survey menu / Questionnaire editor / Language editor / Export/Import all languages - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"2960\">Projects / Survey menu / Questionnaire editor / Title editor / Import - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"3047\">Projects / Survey menu (PE) / Participant administration / Import participants - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"3143\">Projects / Survey menu (PE) / Participant administration / Results import - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"3234\">Projects / Survey menu (ES) / Process configuration / Download platform / Settings / Website import - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"3351\">Projects / Survey menu (ES) / Process configuration / Download platform / Structure / Templates / Import - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"3473\">Projects / Survey menu (ES) / Process configuration / Report definition / Report manager / Import - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"3588\">Projects / Survey menu (ES) / Org processor / Organizational structure / Import structure - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"3695\">Projects / Survey menu (ES) / Org processor / Organizational structure / Node -&gt; Actions-Menu -&gt; Import structure - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"3826\">Projects / Survey menu (ES) / Org processor / Organizational structure / Node -&gt; Actions-Menu -&gt; Participants -&gt; Import participants - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"3976\">Projects / Survey menu (ES) / Org processor / Organizational structure / Action planner / Import actions - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"4098\">Projects / Survey menu (ES) / Org processor / Org processor users / Overview / Import users - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"4207\">Projects / Survey menu (ES) / Org processor / Org processor users / Overview / Import assignments - Upload file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"4322\">Projects / Survey menu (MSF) / Process configuration / Settings / Basic settings / Website import - Upload .qbx file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"4442\">Projects / Survey menu (MSF) / Process configuration / Report definition / Report manager / Import - Upload .xls file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"4563\">Projects / Survey menu (MSF) / Process configuration / Feedback center / Structure / Import - Upload .tpl file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"4677\">Projects / Survey menu (MSF) / Participant administration / Waves -&gt; Click on wave -&gt; Import - Upload .xls file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"4792\">Projects / Survey menu (MSF) / Participant administration / Participant pool / Import - Upload .xls file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"4900\">Website / Website list / Internal: Import website - Upload .gpx file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"4972\">Website / Language version / Community content / Blogs / Blog / Add post - Upload .jpg file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"5067\">Website / Language version / Community content / Forums / Topic / Add thread - Upload .jpg file (No detail error-message here)</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"5197\">Website / Language version / Community content / Forums / Topic / Thread / Add post - Upload .jpg file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"5303\">Website / Language version / Community content / Downloads / Section / Add file - Upload .jpg file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"5405\">People / Statistics / Panel quotas / Quotas -&gt; \"Upload target values\" icon - Upload .csv file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"5502\">People / Master data / Recoding of master data / Lookups -&gt; \"Import data\" icon - Upload .csv file</p>\n</li>\n<li>\n<p data-renderer-start-pos=\"5603\">Users / User import - Upload csv file</p>\n</li>\n</ul>\n<p><strong>PENDING CONFIRMATION FROM TIVIAN TEAM:</strong></p>\n<ul>\n<li>The scanner is accessible via HTTP endpoints, with a global scanner URL available at: <code>http://malware-scanner.global-services.svc.cluster.local:8080</code>\n</li>\n<li>\n<p>additional you can rollout you own Version like: <a href=\"http://malwarescanner-malware-scanner.meinusch-efs.svc.cluster.local:8080\">http://malwarescanner-malware-scanner.meinusch-efs.svc.cluster.local:8080</a></p>\n</li>\n<li>\n<p>To test it you can run command like this:<br><code>time curl -X POST -H \"Content-Type: multipart/form-data\" -F \"FileContents=@&lt;YOUR LOCAL FILE&gt;\" &lt;MALWARE-URL&gt;</code></p>\n</li>\n</ul>\n<h2 id=\"quality\">Quality and Performance</h2>\n<p>Quality scenarios for the Malware Scanner include:</p>\n<ul>\n<li>Daily updates of malware signatures</li>\n<li>Ability to scan files up to a specified size (e.g., 2GB)</li>\n<li>Capacity to handle multiple concurrent file uploads within defined time frames</li>\n</ul>\n<p>Performance metrics and specific capacity requirements are to be further defined and tested.</p>\n<p>Attached to this article are 2 bash scripts that can be used for testing ClamAV.</p>\n<h2 id=\"risks\">Risks and Technical Debt</h2>\n<p>Identified risks:</p>\n<ul>\n<li>Dependency on ClamAV, an open-source solution that could potentially be discontinued</li>\n<li>Lack of comprehensive quality scenarios, especially around capacity and throughput</li>\n<li>Potential security risks associated with using open-source software</li>\n</ul>\n<p>Technical Debt: N/A</p>\n<h2 id=\"h_01J3JPXA882KGP28RDCK6BE78S\">Helpful links</h2>\n<p data-renderer-start-pos=\"1\"><span data-inline-card=\"true\" data-card-url=\"https://aws.amazon.com/de/blogs/developer/virus-scan-s3-buckets-with-a-serverless-clamav-based-cdk-construct/\"><span class=\"loader-wrapper\"><span aria-expanded=\"false\" aria-haspopup=\"true\" data-testid=\"hover-card-trigger-wrapper\"><a class=\"css-118vsk3 e26bri0\" tabindex=\"0\" role=\"button\" href=\"https://aws.amazon.com/de/blogs/apn/amazon-s3-malware-scanning-using-trend-micro-cloud-one-and-aws-security-hub/\" data-testid=\"inline-card-resolved-view\"><span class=\"css-1cwva94 e1a3lu072\" data-testid=\"inline-card-icon-and-title\"><span class=\"css-1lcr4h8 e1a3lu075\"><img class=\"smart-link-icon css-ijlt3r e1yrcv6a0\" style=\"height: 14px; width: 14px;\" src=\"https://a0.awsstatic.com/main/images/site/fav/favicon.ico\" data-testid=\"inline-card-icon-and-title-image\"></span></span></a><a class=\"css-118vsk3 e26bri0\" tabindex=\"0\" role=\"button\" href=\"https://aws.amazon.com/de/blogs/developer/virus-scan-s3-buckets-with-a-serverless-clamav-based-cdk-construct/\" data-testid=\"inline-card-resolved-view\"><span class=\"css-1cwva94 e1a3lu072\" data-testid=\"inline-card-icon-and-title\"><span class=\"smart-link-title-wrapper css-0 e1a3lu077\">Virus scan S3 buckets with a serverless ClamAV based CDK construct | Amazon Web Services</span></span></a></span></span></span></p>\n<p data-renderer-start-pos=\"5\"><span data-inline-card=\"true\" data-card-url=\"https://www.npmjs.com/package/cdk-serverless-clamscan\"><span class=\"loader-wrapper\"><span aria-expanded=\"false\" aria-haspopup=\"true\" data-testid=\"hover-card-trigger-wrapper\"><a class=\"css-118vsk3 e26bri0\" tabindex=\"0\" role=\"button\" href=\"https://www.npmjs.com/package/cdk-serverless-clamscan\" data-testid=\"inline-card-resolved-view\"><span class=\"css-1cwva94 e1a3lu072\" data-testid=\"inline-card-icon-and-title\"><span class=\"css-1lcr4h8 e1a3lu075\"><img class=\"smart-link-icon css-ijlt3r e1yrcv6a0\" style=\"height: 14px; width: 14px;\" src=\"https://static-production.npmjs.com/da3ab40fb0861d15c83854c29f5f2962.png\" data-testid=\"inline-card-icon-and-title-image\"></span><span class=\"smart-link-title-wrapper css-0 e1a3lu077\">npm: cdk-serverless-clamscan</span></span></a></span></span></span></p>\n<p data-renderer-start-pos=\"9\"><span data-inline-card=\"true\" data-card-url=\"https://github.com/awslabs/cdk-serverless-clamscan/blob/main/assets/lambda/code/scan/lambda.py\"><span class=\"loader-wrapper\"><span aria-expanded=\"false\" aria-haspopup=\"true\" data-testid=\"hover-card-trigger-wrapper\"><a class=\"css-118vsk3 e26bri0\" tabindex=\"0\" role=\"button\" href=\"https://github.com/awslabs/cdk-serverless-clamscan/blob/main/assets/lambda/code/scan/lambda.py\" data-testid=\"inline-card-resolved-view\"><span class=\"css-1cwva94 e1a3lu072\" data-testid=\"inline-card-icon-and-title\"><span class=\"smart-link-title-wrapper css-0 e1a3lu077\">lambda.py</span></span></a></span></span></span></p>\n<p data-renderer-start-pos=\"13\"><span data-inline-card=\"true\" data-card-url=\"https://aws.amazon.com/de/blogs/apn/amazon-s3-malware-scanning-using-trend-micro-cloud-one-and-aws-security-hub/\"><span class=\"loader-wrapper\"><span aria-expanded=\"false\" aria-haspopup=\"true\" data-testid=\"hover-card-trigger-wrapper\"><a class=\"css-118vsk3 e26bri0\" tabindex=\"0\" role=\"button\" href=\"https://aws.amazon.com/de/blogs/apn/amazon-s3-malware-scanning-using-trend-micro-cloud-one-and-aws-security-hub/\" data-testid=\"inline-card-resolved-view\"><span class=\"css-1cwva94 e1a3lu072\" data-testid=\"inline-card-icon-and-title\"><span class=\"css-1lcr4h8 e1a3lu075\"><img class=\"smart-link-icon css-ijlt3r e1yrcv6a0\" style=\"height: 14px; width: 14px;\" src=\"https://a0.awsstatic.com/main/images/site/fav/favicon.ico\" data-testid=\"inline-card-icon-and-title-image\"></span><span class=\"smart-link-title-wrapper css-0 e1a3lu077\">Amazon S3 Malware Scanning Using Trend Micro Cloud One and AWS Security Hub | Amazon Web Services</span></span></a></span></span></span></p>\n<p data-renderer-start-pos=\"17\"><span data-inline-card=\"true\" data-card-url=\"https://aws.amazon.com/de/storagegateway/file/s3/\"><span class=\"loader-wrapper\"><span aria-expanded=\"false\" aria-haspopup=\"true\" data-testid=\"hover-card-trigger-wrapper\"><a class=\"css-118vsk3 e26bri0\" tabindex=\"0\" role=\"button\" href=\"https://aws.amazon.com/de/storagegateway/file/s3/\" data-testid=\"inline-card-resolved-view\"><span class=\"css-1cwva94 e1a3lu072\" data-testid=\"inline-card-icon-and-title\"><span class=\"css-1lcr4h8 e1a3lu075\"><img class=\"smart-link-icon css-ijlt3r e1yrcv6a0\" style=\"height: 14px; width: 14px;\" src=\"https://a0.awsstatic.com/libra-css/images/site/fav/favicon.ico\" data-testid=\"inline-card-icon-and-title-image\"></span><span class=\"smart-link-title-wrapper css-0 e1a3lu077\">Amazon S3 File Gateway | Amazon Web Services</span></span></a></span></span></span></p>\n<p data-renderer-start-pos=\"21\"><span data-inline-card=\"true\" data-card-url=\"https://aws.amazon.com/de/blogs/compute/uploading-to-amazon-s3-directly-from-a-web-or-mobile-application/\"><span class=\"loader-wrapper\"><span aria-expanded=\"false\" aria-haspopup=\"true\" data-testid=\"hover-card-trigger-wrapper\"><a class=\"css-118vsk3 e26bri0\" tabindex=\"0\" role=\"button\" href=\"https://aws.amazon.com/de/blogs/compute/uploading-to-amazon-s3-directly-from-a-web-or-mobile-application/\" data-testid=\"inline-card-resolved-view\"><span class=\"css-1cwva94 e1a3lu072\" data-testid=\"inline-card-icon-and-title\"><span class=\"css-1lcr4h8 e1a3lu075\"><img class=\"smart-link-icon css-ijlt3r e1yrcv6a0\" style=\"height: 14px; width: 14px;\" src=\"https://a0.awsstatic.com/main/images/site/fav/favicon.ico\" data-testid=\"inline-card-icon-and-title-image\"></span><span class=\"smart-link-title-wrapper css-0 e1a3lu077\">Uploading to Amazon S3 directly from a web or mobile application | Amazon Web Services</span></span></a></span></span></span></p>\n<p data-renderer-start-pos=\"25\"><span data-inline-card=\"true\" data-card-url=\"https://github.com/mko-x/docker-clamav\"><span class=\"loader-wrapper\"><span aria-expanded=\"false\" aria-haspopup=\"true\" data-testid=\"hover-card-trigger-wrapper\"><a class=\"css-118vsk3 e26bri0\" tabindex=\"0\" role=\"button\" href=\"https://github.com/mko-x/docker-clamav\" data-testid=\"inline-card-resolved-view\"><span class=\"css-1cwva94 e1a3lu072\" data-testid=\"inline-card-icon-and-title\"><span class=\"css-1lcr4h8 e1a3lu075\"><img class=\"smart-link-icon css-ijlt3r e1yrcv6a0\" style=\"height: 14px; width: 14px;\" src=\"https://github.githubassets.com/favicon.ico\" data-testid=\"inline-card-icon-and-title-image\"></span><span class=\"smart-link-title-wrapper css-0 e1a3lu077\">mko-x/docker-clamav</span></span></a></span></span></span></p>\n<h1 id=\"h_01HGKSMPRSER9ENY5QWWRZZ863\">FAQ</h1>\n<h3 id=\"faq_1\">What files are in scope for malware scanning?</h3>\n<p>All files that enter our trust boundary, specifically those uploaded by customers, are in scope for malware scanning.</p>\n<h3 id=\"faq_2\">How does the scanning process impact file upload workflow?</h3>\n<p>The scanning process introduces an asynchronous step, which may result in slightly slower upload times. The exact impact on workflow and user experience may vary depending on the specific implementation and file sizes.</p>\n<h3 id=\"faq_3\">What happens if a file is detected as malicious?</h3>\n<p>If malicious content is detected, appropriate action is taken to mitigate the threat, such as quarantining or deleting the file. The specific action may depend on the implementation within each integrated application.</p>\n</article>",
    "user_segment_ids": [
        360000084973
    ]
}