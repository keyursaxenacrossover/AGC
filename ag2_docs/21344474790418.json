{
    "id": 21344474790418,
    "url": "https://discoverxi-supportdesk.zendesk.com/api/v2/help_center/en-us/articles/21344474790418.json",
    "html_url": "https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/21344474790418-Create-EFS-Accounts-via-Shell-Script",
    "author_id": 369584192734,
    "comments_disabled": false,
    "draft": false,
    "promoted": false,
    "position": 0,
    "vote_sum": 0,
    "vote_count": 0,
    "section_id": 20389541164690,
    "created_at": "2024-09-13T08:14:03Z",
    "updated_at": "2024-09-13T08:29:38Z",
    "name": "Create EFS Accounts via Shell Script",
    "title": "Create EFS Accounts via Shell Script",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2024-09-13T08:29:36Z",
    "user_segment_id": 360000084973,
    "permission_group_id": 1075274,
    "content_tag_ids": [],
    "label_names": [],
    "body": "<h1 id=\"h_01J7N61CVH9MYEWNVBYZATVDK7\" class=\"wysiwyg-text-align-left\">Overview</h1>\n<p class=\"wysiwyg-text-align-left\">This is a runbook that allows people to be onboarded to all the EFS installations at once, as this is required when new agents are onboarded into the product.</p>\n<h1 id=\"h_01J7N62PVTF894XJPRRR0HYJM8\" class=\"wysiwyg-text-align-left\">Process</h1>\n<ol>\n<li class=\"wysiwyg-text-align-left\">Access service gateways via SSH client (i.e. Putty, but you can also use the Terminal of your preference)\n<ul>\n<li class=\"wysiwyg-text-align-left\">\n<a href=\"https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/21139518716562\" target=\"_blank\" rel=\"noopener noreferrer\">How to Access and Work with DXI Service Gateways</a><br><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/21344474760082\" width=\"365\" height=\"359\"><br>\n<ul>\n<li style=\"box-sizing: border-box;\">\n<strong style=\"box-sizing: border-box; font-weight: bolder;\">Prod-DE-03</strong>: <code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, ' Liberation Mono' , ' Courier New' , monospace; font-size: 14px; color: #e83e8c; word-break: break-word; background: #f7f7f7; border: 1px solid #dddddd; border-radius: 3px; padding: 0px 5px; margin: 0px 2px;\">servicegw.prod-de-03.customervoice360.com:65222</code> (AWS DE)</li>\n<li style=\"box-sizing: border-box;\">\n<strong style=\"box-sizing: border-box; font-weight: bolder;\">Prod-US-03</strong>: <code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, ' Liberation Mono' , ' Courier New' , monospace; font-size: 14px; color: #e83e8c; word-break: break-word; background: #f7f7f7; border: 1px solid #dddddd; border-radius: 3px; padding: 0px 5px; margin: 0px 2px;\">servicegw.prod-us-03.customervoice360.com:65222</code> (AWS USA)</li>\n<li style=\"box-sizing: border-box;\">\n<strong style=\"box-sizing: border-box; font-weight: bolder;\">Sandbox-DE-02</strong>: <code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, ' Liberation Mono' , ' Courier New' , monospace; font-size: 14px; color: #e83e8c; word-break: break-word; background: #f7f7f7; border: 1px solid #dddddd; border-radius: 3px; padding: 0px 5px; margin: 0px 2px;\">servicegw.sandbox-de-02.customervoice360.com:65222</code> (Sandbox Cluster)</li>\n<li style=\"box-sizing: border-box;\">\n<strong style=\"box-sizing: border-box; font-weight: bolder;\">BofA-US-01</strong>: <code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, ' Liberation Mono' , ' Courier New' , monospace; font-size: 14px; color: #e83e8c; word-break: break-word; background: #f7f7f7; border: 1px solid #dddddd; border-radius: 3px; padding: 0px 5px; margin: 0px 2px;\">servicegw.bofa-us-01.customervoice360.com:65222</code> (Bank of America Cluster)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Navigate to <strong>add account script</strong> folder and list its contents (if needed)<br><code>cd /nfs/dumps/_add_efs_user_account/</code><br><code>ll</code><br><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/21344474761490\">\n</li>\n<li>Copy muster text file and edit it <strong>(repeat step if you need multiple agents accounts to be created)<br></strong><code>cp textfiles/_muster_username.txt textfiles/jon.doe.txt &amp;&amp; vi textfiles/jon.doe.txt</code>\n</li>\n<li>Add agent account data and save file; this is the expected format:<br>\n<pre>doe<br><br>Jon<br><br>Doe<br><br><a href=\"mailto:jon.doe@trilogy.com\">jon.doe@trilogy.com</a></pre>\n<img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/21344474767890\">\n</li>\n<li>Copy \"muster\" shell script file and edit it<br><code>cp shell_script/_muster_addusername_NEW.sh shell_script/jon.doe.sh &amp;&amp; vi shell_script/jon.doe.sh</code>\n</li>\n<li>Reference text file created in step 4 in shell script and save file<br>\n<ol>\n<li>Change\n<pre>for i in $(ls /nfs/installations/);do cd /nfs/installations/$i/nfs/opst/$i.customervoice360.com/htdocs/www/ &amp;&amp; echo $i &amp;&amp; php support/add_account.php &lt; /nfs/dumps/_add_efs_user_account/textfiles/username.txt;done</pre>\n</li>\n<li>To:\n<pre>for i in $(ls /nfs/installations/);do cd /nfs/installations/$i/nfs/opst/$i.customervoice360.com/htdocs/www/ &amp;&amp; echo $i &amp;&amp; php support/add_account.php &lt; /nfs/dumps/_add_efs_user_account/textfiles/jon.doe.txt;done</pre>\n<img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/21344474769170\" width=\"457\" height=\"262\">\n</li>\n<li>If you need to add multiple agents you can repeat this line in the shell script, for example:<br>\n<pre class=\"wysiwyg-text-align-left\">for i in $(ls /nfs/installations/);do cd /nfs/installations/$i/nfs/opst/$i.customervoice360.com/htdocs/www/ &amp;&amp; echo $i &amp;&amp; php support/add_account.php &lt; /nfs/dumps/_add_efs_user_account/textfiles/jon.doe.txt;done<br><br>for i in $(ls /nfs/installations/);do cd /nfs/installations/$i/nfs/opst/$i.customervoice360.com/htdocs/www/ &amp;&amp; echo $i &amp;&amp; php support/add_account.php &lt; /nfs/dumps/_add_efs_user_account/textfiles/max.mustermann.txt;done<br><br>...<br><br>for i in $(ls /nfs/installations/);do cd /nfs/installations/$i/nfs/opst/$i.customervoice360.com/htdocs/www/ &amp;&amp; echo $i &amp;&amp; php support/add_account.php &lt; /nfs/dumps/_add_efs_user_account/textfiles/mister.x.txt;done</pre>\n</li>\n</ol>\n</li>\n<li>Execute shell script, and see below expected output<br><code>sh shell_script/jon.doe.sh</code><br><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/21344869868178\" width=\"492\" height=\"283\">\n</li>\n<li>Repeat for all clusters</li>\n<li>Inform the agent/requester using the below template:</li>\n</ol>\n<pre>Dear &lt;agent&gt;<br><br>You have been added as an admin user to all DXI/EFS instances. As a result, you have received a large number of invitation emails, however, you can safely ignore and delete them.<br><br>Why is that? Because your account has been created in each instance, and whenever you want to login to an instance, you can simply use the <strong>Forgot Password</strong> option in the instance that you need access to and set your password at that point, there is no need to set your password right away.<br><br>With all this being said, we will now proceed to close the ticket, and if further assistance is required, don't hesitate to reach out once again.</pre>",
    "user_segment_ids": [
        360000084973
    ]
}