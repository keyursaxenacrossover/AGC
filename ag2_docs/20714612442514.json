{
    "id": 20714612442514,
    "url": "https://discoverxi-supportdesk.zendesk.com/api/v2/help_center/en-us/articles/20714612442514.json",
    "html_url": "https://discoverxi-supportdesk.zendesk.com/hc/en-us/articles/20714612442514-EFS-Mysight",
    "author_id": 369584192734,
    "comments_disabled": false,
    "draft": true,
    "promoted": false,
    "position": 0,
    "vote_sum": 0,
    "vote_count": 0,
    "section_id": 20714530860562,
    "created_at": "2024-08-12T16:50:04Z",
    "updated_at": "2024-08-12T16:50:13Z",
    "name": "EFS Mysight",
    "title": "EFS Mysight",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2024-08-12T16:50:13Z",
    "user_segment_id": 360000084973,
    "permission_group_id": 1075294,
    "content_tag_ids": [],
    "label_names": [],
    "body": "<p><b>Original Confluence URL:</b> <a href=\"https://qbdocs.atlassian.net/wiki/spaces/TS/pages/1055096992\">https://qbdocs.atlassian.net/wiki/spaces/TS/pages/1055096992</a> - please cross-check the quality of the ZD article with the Confluence counterpart and remove this line before publishing the ZD article</p>\n\n<h2>Table of Contents</h2>\n<ul class=\"toc\">\n<ul>\n<li><a href=\"#header-1\">MySight v2</a></li>\n<ul>\n<li><a href=\"#header-3\">Activation of MySight v2 and Settings</a></li>\n<ul>\n<li><a href=\"#header-5\">Requirements</a></li>\n<li><a href=\"#header-6\">1. Request intermediate and Exasol DB</a></li>\n<li><a href=\"#header-7\">2. Activate Mysight v2 in EFS Configuration</a></li>\n<li><a href=\"#header-8\">3. Setup Intermediate mysql-database between EFS-installation and EXASOL in EFS Configuration (root)</a></li>\n<li><a href=\"#header-9\">4. Setup Tableau server in EFS admin area (Mysight settings)</a></li>\n<li><a href=\"#header-10\">5. Add a new MySQL or EXASOL connection in EFS admin area (MySight settings)</a></li>\n<li><a href=\"#header-11\">6. Final checks</a></li>\n</ul>\n</ul>\n<li><a href=\"#header-14\">MySight v1 - discontinued</a></li>\n<ul>\n<li><a href=\"#header-16\">Activation of MySight v1 and custom content handler for the panel website</a></li>\n<ul>\n<li><a href=\"#header-18\">Requirements</a></li>\n<li><a href=\"#header-19\">1. Activate Mysight in EFS (change config in platform cockpit)</a></li>\n<li><a href=\"#header-20\">2. Store the SFTP Key - Only necessary for installations upgraded from &lt; EFS 10.8</a></li>\n<li><a href=\"#header-21\">3. Activate Mysight Custom Content Handler for panel website (Custom Output Modul)</a></li>\n<li><a href=\"#header-22\">4. Import Mysight website</a></li>\n<li><a href=\"#header-23\">5. Check configuration</a></li>\n</ul>\n<li><a href=\"#header-25\">Overview EFS configuration variables and values for MySight v1</a></li>\n<ul>\n<li><a href=\"#header-27\">SFTP Data:</a></li>\n<li><a href=\"#header-28\">Tableau SFTP Variables</a></li>\n<li><a href=\"#header-29\">Mysight variables</a></li>\n</ul>\n</ul>\n<li><a href=\"#header-32\">Support</a></li>\n<ul>\n<li><a href=\"#header-34\">Alteryx and Tableau Contacts</a></li>\n<li><a href=\"#header-35\">Logins</a></li>\n<ul>\n<li><a href=\"#header-37\">MySight Citrix Server</a></li>\n<li><a href=\"#header-38\">MySight PREPROD and PREPROD2 Tableau Servers and aliases</a></li>\n<li><a href=\"#header-39\">MySight Production Tableau Server</a></li>\n<li><a href=\"#header-40\">MySight Tableau Server for Testkanal installations (TABTKA)</a></li>\n<li><a href=\"#header-41\">MySight SFTP Server</a></li>\n<li><a href=\"#header-42\">MySight Portal Address</a></li>\n</ul>\n<li><a href=\"#header-44\">Documentation</a></li>\n<ul>\n<li><a href=\"#header-46\">Preparation in EFS</a></li>\n<li><a href=\"#header-47\">Site Roles for users</a></li>\n<li><a href=\"#header-48\">Documentation page</a></li>\n<li><a href=\"#header-49\">Mysight Overview/Cheat Sheet</a></li>\n<li><a href=\"#header-50\">MySight Checklist</a></li>\n<li><a href=\"#header-51\">Alteryx Data field types:</a></li>\n<li><a href=\"#header-52\">MySight Websites installieren und Ipsos CLS aufsetzen (Professional Services/Customizing)</a></li>\n<li><a href=\"#header-53\">Process for switching from PREPROD to PREPROD2/PROD and publishing data from PREPROD2 to PROD</a></li>\n<li><a href=\"#header-54\">How to manually publish your Dashboards (Author: Gordon Fiedler)</a></li>\n<li><a href=\"#header-55\">How to manually publish Data Sources and for the first time a new Dashboard (Author: Gordon Fiedler)</a></li>\n<li><a href=\"#header-56\">How to reinitiate the initial sync of result data to Exasol</a></li>\n<li><a href=\"#header-57\">MySight v2 Publication status</a></li>\n<li><a href=\"#header-58\">MySight v2 EFS Tables and description</a></li>\n<li><a href=\"#header-59\">MySight v2 Intermediate/Exasol tables and descriptions</a></li>\n<li><a href=\"#header-60\">MySight v2 Sync Process in the logs</a></li>\n<li><a href=\"#header-61\">MySight v2 config variables</a></li>\n</ul>\n<li><a href=\"#header-63\">Exasol</a></li>\n<ul>\n<li><a href=\"#header-65\">Connection to database scheme</a></li>\n</ul>\n<li><a href=\"#header-67\">FAQ</a></li>\n<ul>\n<li><a href=\"#header-69\">Overview MySight Permissions (how to fix MySight permissions issues)</a></li>\n<li><a href=\"#header-70\">MySight v1 (old) &amp; MySight v2: Grant access to Tableau server</a></li>\n<li><a href=\"#header-71\">(MySight old) Site is not shown on MySight preprod server</a></li>\n<li><a href=\"#header-72\">(MySight old) Mail error request failed and users.csv</a></li>\n<li><a href=\"#header-73\">(MySight old) Creation of trusted tickets</a></li>\n<li><a href=\"#header-74\">(MySight old) Trusted ticket issue (Case 00943924)</a></li>\n<li><a href=\"#header-75\">(MySight old) Workbooks/Dashboards are not loading on Tableau server (e.g. preprod2)</a></li>\n<li><a href=\"#header-76\">(MySight new) When is data synched to the intermediate database?</a></li>\n<li><a href=\"#header-77\">(MySight new) How can data be synched to the intermediate database manually</a></li>\n<li><a href=\"#header-78\">(MySight new) What is the default value of config variable sync_flow_rate?</a></li>\n<li><a href=\"#header-79\">(MySight new) Can the intermediate database be changed?</a></li>\n<li><a href=\"#header-80\">(MySight new) What happens to the data if MySQL and/or Exasol are temporarily not available?</a></li>\n<li><a href=\"#header-81\">(MySight new) Are we able to manually sync not synched data (logfile analysis) and is this feasible (consistency)?</a></li>\n<li><a href=\"#header-82\">(MySight new) How can I add text variables as split variables /dimensions in Mysight?</a></li>\n<li><a href=\"#header-83\">(MySight new) Failed Queries and what to do in that case (still needs to be documented)</a></li>\n<ul>\n<li><a href=\"#header-85\">[EXASOL][EXASolution driver]insufficient privileges for creating connection</a></li>\n<li><a href=\"#header-86\">[EXASOL][EXASolution driver]insufficient privileges for using connection</a></li>\n<li><a href=\"#header-87\">[EXASOL][EXASolution driver]insufficient privileges for replacing connection</a></li>\n</ul>\n<li><a href=\"#header-89\">(MySight new) Open questions regarding Mysight v2</a></li>\n<ul>\n<li><a href=\"#header-91\">Team-Rechte für MySight-Funktionen</a></li>\n<li><a href=\"#header-92\">Site-Administratoren und Tableau-Rechte</a></li>\n</ul>\n<li><a href=\"#header-94\">(MySight new) - Dashboard is not shown in Portals</a></li>\n<li><a href=\"#header-95\">(MySight new) Republish MySight projects on cloned installations</a></li>\n<li><a href=\"#header-96\">Create client account on tableau server and send login credentials</a></li>\n<li><a href=\"#header-97\">Mass import of client new accounts on tableau server</a></li>\n<li><a href=\"#header-98\">Add ODBC connection to Alteryx Server</a></li>\n</ul>\n</ul>\n</ul>\n</ul><ac:parameter ac:name=\"maxLevel\">2</ac:parameter><h1 id=\"header-1\">MySight v2</h1><h2 id=\"header-3\">Activation of MySight v2 and Settings</h2><h3 id=\"header-5\">Requirements</h3><p></p><p><strong>EFS Panel and Portals have to have been sold and activated </strong><br><strong>Please check first wether the installation uses the old debian frontends respectively uses PDF receipts</strong><br><strong>(Mysight v2 does not work on the old debian frontends because the necessary ODBC drivers are not included in PHP there)</strong></p><p></p><h3 id=\"header-6\">1. Request intermediate and Exasol DB</h3><ul><li><p>Send case to Sysadmins requesting a new intermediate and new Exasol DB</p></li></ul><div class=\"expand-macro\">\n<h4 string=\"Checklist\"></h4>\n<p>Hi Admins,</p>\n<p>please set up a new intermediate and Exasol DB:</p>\n<p>Installation: [xy1234].customervoice360.com<br>Server: [Frankfurt]</p>\n<p>EFS DB data (grep __db conf/config.inc.php3):<br>$__dbhost = [ip address]<br>$__dbuser = \"[username]\";<br>$__dbpasswd = \"[password]\";<br>$__dbname = \"[db name]\";<br>$__dbport = \"[port]\";</p>\n<p>Thanks,<br>X</p>\n</div><h3 id=\"header-7\">2. Activate Mysight v2 in EFS Configuration</h3><p> When the case is back from Sysadmins and they have created the intermediate and Exasol DB</p><ul>\n<li><p>log in to installation using the root account and change the config</p></li>\n<li><p>variable <strong>\"modules\"</strong></p></li>\n<li><p>add <strong>\"mysight\"</strong> (&gt;EFS 16.3)</p></li>\n<li><p>Execute <strong>healself</strong></p></li>\n</ul><h3 id=\"header-8\">3. Setup Intermediate mysql-database between EFS-installation and EXASOL in EFS Configuration (root)</h3><ul>\n<li><p>variable <strong>\"mysight_intermediate_db\"</strong></p></li>\n<li>\n<p>add values for <strong>\"dbhost\", \"dbuser\", \"dbpasswd\", \"dbname\", \"dbport\", \"dbsocket\"</strong></p>\n<ul><li><p>dbsocket: <strong>/tmp/mysql.sock</strong></p></li></ul>\n</li>\n</ul><p><strong>INFO: All necessary data will be provided by the System Engineers.</strong></p><h3 id=\"header-9\">4. Setup Tableau server in EFS admin area (Mysight settings)</h3><ul>\n<li><p><strong>Where: System &gt;&gt; Options &gt;&gt; qb:: MySight settings &gt;&gt; MySight connections &gt;&gt; Manage Tableau-Server &gt;&gt; Add new Tableau-Server</strong></p></li>\n<li>\n<p>fill up \"Label for Tableau-Server\" and \"Server Url\" ( use HTTPS for Questback Tableau Server)</p>\n<ul><li><p>Take Label from the following table:</p></li></ul>\n</li>\n</ul><table data-layout=\"default\" data-table-width=\"760\" ac:local-id=\"8b920445-e88e-423f-8a4b-9b1b2618fff0\">\n<colgroup>\n<col style=\"width: 159.0px;\">\n<col style=\"width: 142.0px;\">\n<col style=\"width: 150.0px;\">\n<col style=\"width: 150.0px;\">\n<col style=\"width: 159.0px;\">\n</colgroup>\n<tbody>\n<tr>\n<th><p><strong>enviroment</strong></p></th>\n<th><p><strong>used for</strong></p></th>\n<th><p><strong>server short name</strong></p></th>\n<th><p><strong>URL</strong></p></th>\n<th><p><strong>notes</strong></p></th>\n</tr>\n<tr>\n<td><p><strong>AWS PROD DE</strong></p></td>\n<td><p>customer installations</p></td>\n<td><p>DE_AWS_PROD</p></td>\n<td><p><a href=\"https://tableau.tableau-prod-de-03.customervoice360.com\">https://tableau.tableau-prod-de-03.customervoice360.com</a></p></td>\n<td><p><strong>default tableau server for all new installations</strong></p></td>\n</tr>\n<tr>\n<td><p><strong>AWS SANDBOX DE</strong></p></td>\n<td><p>internal installations</p></td>\n<td><p>DE_AWS_SANDBOX</p></td>\n<td><p><a href=\"https://tableau.tableau-sandbox-de-02.customervoice360.com\">https://tableau.tableau-sandbox-de-02.customervoice360.com</a></p></td>\n<td><p><strong>default tableau server for all new <span style=\"color: rgb(191,38,0);\">internal </span>installations</strong></p></td>\n</tr>\n</tbody>\n</table><div class=\"expand-macro\">\n<h4 string=\"deprecated\"></h4>\n<table ac:local-id=\"172385ce-5b8f-4a19-aa60-79505558511b\" data-layout=\"default\" data-table-width=\"760\">\n<colgroup>\n<col style=\"width: 146.0px;\">\n<col style=\"width: 144.0px;\">\n<col style=\"width: 144.0px;\">\n<col style=\"width: 144.0px;\">\n<col style=\"width: 152.0px;\">\n</colgroup>\n<tbody>\n<tr>\n<th><p><strong>enviroment</strong></p></th>\n<th><p><strong>used for</strong></p></th>\n<th><p><strong>server short name</strong></p></th>\n<th><p><strong>URL</strong></p></th>\n<th><p><strong>notes</strong></p></th>\n</tr>\n<tr>\n<td><p><strong>Frankfurt</strong></p></td>\n<td><p>internal installations</p></td>\n<td><p>PREPROD2</p></td>\n<td><p><a href=\"https://mysight-preprod2-de.customervoice360.com\">https://mysight-preprod2-de.customervoice360.com</a></p></td>\n<td><p><strong>default tableau server for all new installations</strong></p></td>\n</tr>\n<tr>\n<td><p><strong>Frankfurt / Prod_DE_02</strong></p></td>\n<td><p>customer installations</p></td>\n<td><p>PROD</p></td>\n<td><p><a href=\"https://mysight-prod2-de.customervoice360.com/\">https://mysight-prod2-de.customervoice360.com/</a></p></td>\n<td><p><strong>default tableau server for all new installations</strong></p></td>\n</tr>\n<tr>\n<td><p><strong>Rackspace</strong></p></td>\n<td><p>internal installations <strong>not used anymore</strong></p></td>\n<td><p>USPREPROD_NON_A</p></td>\n<td><p><a href=\"https://mysight-preprod-us.customervoice360.com\">https://mysight-preprod-us.customervoice360.com</a></p></td>\n<td><p><strong>default tableau server for all new installations</strong></p></td>\n</tr>\n<tr>\n<td><p><strong>AWS - ex Rackspace</strong></p></td>\n<td><p>customer installations</p></td>\n<td><p>USPROD_NON_A</p></td>\n<td><p><a href=\"https://mysight-prod-us.customervoice360.com\">https://mysight-prod-us.customervoice360.com</a></p></td>\n<td><p><strong>default tableau server for all new installations</strong></p></td>\n</tr>\n<tr>\n<td><p><strong>Testkanal</strong></p></td>\n<td><p>internal installations</p></td>\n<td><p>TABTKA</p></td>\n<td><p><a href=\"https://tableau10.qb-feedback.com\">https://tableau10.qb-feedback.com</a></p></td>\n<td><p><strong>default tableau server for all new installations</strong></p></td>\n</tr>\n<tr>\n<td><p><strong>US_AWS_Prod</strong></p></td>\n<td><p>customer installations</p></td>\n<td><p>US_AWS_PROD</p></td>\n<td><p><a href=\"https://mysight-prod-us.customervoice360.com\">https://mysight-prod-us.customervoice360.com</a></p></td>\n<td><p><strong>default tableau server for all new AWS installations</strong></p></td>\n</tr>\n<tr>\n<td><p><strong>DEV-QA-AWS</strong></p></td>\n<td><p>internal</p></td>\n<td><p>DEV_QA</p></td>\n<td>\n<p><a href=\"https://tableau10.qb-feedback.com/\"><del>https://tableau10.qb-feedback.com</del></a></p>\n<p>use preprod2 if needed: </p>\n<p><a href=\"https://mysight-preprod2-de.customervoice360.com\">https://mysight-preprod2-de.customervoice360.com</a></p>\n</td>\n<td><p><strong>same as TKA, <span style=\"color: rgb(255,86,48);\">not working </span>&amp; there is no dedicated DEV-QA-EXASOL-cluster yet</strong></p></td>\n</tr>\n</tbody>\n</table>\n</div><p><strong>Former Settings</strong></p><p><strong>INFO: List of all Europe &amp; US pre production and production </strong><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight#MySight_PREPROD_and_PREPROD2_Tab\"><strong>Tableau Servers</strong></a></p><h3 id=\"header-10\">5. Add a new MySQL or EXASOL connection in EFS admin area (MySight settings)</h3><ul>\n<li><p><strong>Where: System &gt;&gt; Options &gt;&gt; qb:: MySight settings &gt;&gt; MySight connections &gt;&gt; New MySQL connection or New EXASOL connection</strong> (drop down menu)</p></li>\n<li><p><strong>fill up \"General settings\", \"Database settings\" and \"Tableau settings\"</strong>(see below)</p></li>\n</ul><p><strong>Example</strong></p><ul><li>\n<p>General settings</p>\n<ul><li><p>Connection label: <strong>PREPROD2-[SCHEMA]</strong> (nomeclature for internal installations), <strong>PROD-[SCHEMA]</strong> (nomeclature for customer installations)</p></li></ul>\n</li></ul><p></p><ul><li>\n<p>Database settings</p>\n<ul>\n<li><p>Database Server GIVEN BY SYSTEM ENGINEERS! Currently valid: Url: <strong>10.250.0.21, 10.250.0.23, 10.250.11.20, 10.250.11.21 (Frankfurt)</strong>, (old <del>10.250.10.183</del>) and <strong>172.24.16.47 (Rackspace)</strong></p></li>\n<li><p>DB User + PWD as given in config unless specified differently by SA</p></li>\n<li><p>Database Name = [SCHEMA] (AB1234)</p></li>\n<li><p>Database port: <strong>8563</strong> Frankfurt, <strong><del>5126</del></strong><del> Rackspace</del>, AWS <strong>8899</strong></p></li>\n<li><p>Driver: see table below</p></li>\n</ul>\n</li></ul><table data-layout=\"default\" data-table-width=\"760\" ac:local-id=\"858cc339-7f75-4d87-b3ec-4d78ac3627cc\">\n<colgroup>\n<col style=\"width: 136.0px;\">\n<col style=\"width: 136.0px;\">\n<col style=\"width: 136.0px;\">\n<col style=\"width: 136.0px;\">\n<col style=\"width: 136.0px;\">\n</colgroup>\n<tbody>\n<tr>\n<th><p><strong>enviroment</strong></p></th>\n<th><p><strong>server name</strong></p></th>\n<th><p><strong>ip</strong></p></th>\n<th><p><strong>ODBC driver</strong></p></th>\n<th><p><strong>notes</strong></p></th>\n</tr>\n<tr>\n<td><p><strong>Frankfurt</strong></p></td>\n<td><p>exaone-01 exaone-02 exaone-03 exaone-04 exaone-05 exaone-06 exaone-07 exaone-08 exaone-09 exaone-10</p></td>\n<td><p>10.250.0.21 10.250.0.23 10.250.11.20 10.250.11.21 10.250.11.54 10.250.11.60 10.250.11.75 10.250.11.76 10.250.11.90 10.250.11.92</p></td>\n<td><p>/opt/pdp/opst/apps/EXASOL_ODBC-6.0.0/lib/linux/x86_64/libexaodbc-uo2214lv2.so</p></td>\n<td><p><strong>default driver for all new installations</strong></p></td>\n</tr>\n<tr>\n<td><p><strong>Testkanal</strong></p></td>\n<td><p>tka-exasol</p></td>\n<td><p>10.4.0.78</p></td>\n<td><p>/opt/pdp/opst/apps/EXASolution_ODBC-6.0.rc2/lib/linux/x86_64/libexaodbc-uo2214lv2.so</p></td>\n<td><p><strong>default driver for all new installations</strong></p></td>\n</tr>\n<tr>\n<td><p><strong>Rackspace/AWS</strong></p></td>\n<td><p>rs-exasol</p></td>\n<td><p>172.24.16.47</p></td>\n<td><p>/opt/pdp/opst/apps/EXASolution_ODBC-6.0.rc2/lib/linux/x86_64/libexaodbc-uo2214lv2.so</p></td>\n<td><p><strong>default driver for all new installations</strong></p></td>\n</tr>\n<tr>\n<td><p><strong>PROD-US-02</strong></p></td>\n<td><p></p></td>\n<td><p>172.30.3.168</p></td>\n<td><p>/opt/pdp/opst/apps/EXASolution_ODBC-6.0.rc2/lib/linux/x86_64/libexaodbc-uo2214lv2.so</p></td>\n<td><p><strong>default driver for all new installations</strong></p></td>\n</tr>\n</tbody>\n</table><p><strong>Former settings</strong></p><p><strong>INFO: All other necessary data like \"Database user\", \"Database password\" and \"Database name\" (Database name = \"SCHEMA\") will be provided by our System Engineers</strong> <br><strong>(System Engineers List of EXASOL Servers: </strong><a href=\"https://paper.dropbox.com/doc/Exasol-Server-Production-DEV-bKw7N25djwBGLqs8BzDx9\"><strong>https://paper.dropbox.com/doc/Exasol-Server-Production-DEV-bKw7N25djwBGLqs8BzDx9</strong></a><strong>)</strong><br></p><ul><li>\n<p>Tableau Settings</p>\n<ul>\n<li><p>Tableau Server Url: <strong>choose a Tableau Server from the drop down menu</strong> (label PREPROD2 for internal installations, label PROD for customer installations)</p></li>\n<li><p>Tableau user: <strong>support</strong></p></li>\n<li><p>Tableau password: <strong>(see password safe)</strong></p></li>\n</ul>\n</li></ul><p><strong>INFO:</strong><a href=\"https://it.globalpark.de/twiki/bin/view/Support/ListeAlleInstallationenMitMySightV2MitAngabeDerEXASOLVerbindungenUndDriver\"><strong>List of all installations with activated MySight v2 (EXASOL connections, drivers, etc.)</strong></a></p><h3 id=\"header-11\">6. Final checks</h3><p>[] add <strong>\"mysight\"</strong> team in EFS</p><p>[] set ACL rights for this team: <strong>\"mysight_self_siteadmin\"</strong> &amp; <strong>\"mysight_text_dimension\"</strong>, WRITE &amp; READ</p><p>[] grant <strong>\"mysight\"</strong> team access to exasol connection by clicking on <strong>\"§\"</strong> next to the connection (System &gt;&gt; Options &gt;&gt; qb:: MySight settings &gt;&gt; MySight connections)</p><p>[] add users to <strong>\"mysight\"</strong> team (if requested by the customer)</p><p>[] remove right to create new Tableau users:</p><p style=\"margin-left: 30.0px;\">log in to Tableau server (<strong>\"PROD\"</strong> or <strong>\"PREPROD2\"</strong>)</p><p style=\"margin-left: 30.0px;\">select correct site (e.g. <a href=\"http://tr0044.customervoice360.com\">tr0044.customervoice360.com</a>)</p><p style=\"margin-left: 30.0px;\">navigate to Settings and change setting <strong>\"Who is allowed to add and remove users.\"</strong> to <strong>\"Only server administrators\"</strong></p><p></p><h1 id=\"header-14\">MySight v1 - discontinued</h1><h2 id=\"header-16\">Activation of MySight v1 and custom content handler for the panel website</h2><h3 id=\"header-18\">Requirements</h3><p>EFS Panel has to have been sold and activated.</p><p>The reason mus be known why MySight V1 is absolutely necessary. As it is deprecated, it should only be activated if there is no other way to build the desired functionality.</p><h3 id=\"header-19\">1. Activate Mysight in EFS (change config in platform cockpit)</h3><ul>\n<li><p><strong>mysight_enabled</strong>(default:false): <strong>TRUE</strong> (boolean)</p></li>\n<li><p><strong>mysight_user_provisioning_service</strong> / <ac:inline-comment-marker ac:ref=\"315448fc-c94b-4e14-a48b-9fd8edf667bf\">VALUE</ac:inline-comment-marker>: '<a href=\"http://mysight-api.bre.globalpark.com:49865/app/api/process/userprovision/\">http://mysight-api.bre.globalpark.com:49865/app/api/process/userprovision/</a>' (<strong>FRANKFURT</strong>, PREPROD2/PROD, internal installations &amp; customers installations)</p></li>\n<li><p><strong>mysight_user_provisioning_service</strong> / VALUE: '<a href=\"http://mysight-api.bre.globalpark.com:49866/app/api/process/userprovision/\">http://mysight-api.bre.globalpark.com:49866/app/api/process/userprovision/</a>' (<strong>FRANKFURT</strong>, PREPROD2/PROD, internal installations &amp; customers installations)</p></li>\n<li>\n<p><strong><ac:inline-comment-marker ac:ref=\"cdddf360-a918-44c4-9562-26a566482511\">mysight_user_provisioning_service</ac:inline-comment-marker></strong><ac:inline-comment-marker ac:ref=\"cdddf360-a918-44c4-9562-26a566482511\"> / VALUE: '</ac:inline-comment-marker><a href=\"http://172.24.48.40:49866/app/api/process/userprovision/\"><ac:inline-comment-marker ac:ref=\"cdddf360-a918-44c4-9562-26a566482511\">http://172.24.48.40:49866/app/api/process/userprovision/</ac:inline-comment-marker></a><ac:inline-comment-marker ac:ref=\"cdddf360-a918-44c4-9562-26a566482511\">' (</ac:inline-comment-marker><strong><ac:inline-comment-marker ac:ref=\"cdddf360-a918-44c4-9562-26a566482511\">RACKSPACE</ac:inline-comment-marker></strong><ac:inline-comment-marker ac:ref=\"cdddf360-a918-44c4-9562-26a566482511\">, US PREPROD/US PROD, internal installations &amp; customers installations)</ac:inline-comment-marker></p>\n<ul><li><p><strong><ac:inline-comment-marker ac:ref=\"cdddf360-a918-44c4-9562-26a566482511\">Please mind that the custom content handler also needs to be adjusted if preprod2 is used, see Step 3</ac:inline-comment-marker></strong><br><strong><ac:inline-comment-marker ac:ref=\"cdddf360-a918-44c4-9562-26a566482511\">(The custom content handler needs no adjustments anymore!)</ac:inline-comment-marker></strong></p></li></ul>\n</li>\n</ul><h3 id=\"header-20\">2. Store the SFTP Key - Only necessary for installations upgraded from &lt; EFS 10.8</h3><p><strong>EFS <ac:inline-comment-marker ac:ref=\"f5194d4b-439d-454c-981a-332b74dfd53c\">Version </ac:inline-comment-marker>&gt; 10.8? Go forward to step 3!</strong></p><h3 id=\"header-21\">3. Activate Mysight Custom Content Handler for panel website (Custom Output Modul)</h3><ul>\n<li><p><strong>Login to installation using the root account</strong></p></li>\n<li>\n<p><strong>Change config flag \"panel_special_features\":</strong></p>\n<ul><li><p>string(0 =&gt; 'have_experimental_content_handlers')</p></li></ul>\n</li>\n<li><p><strong>Check whether folder panelwebsite/custom exists, create it if it doesn't exist (rights need to be <ac:inline-comment-marker ac:ref=\"06544031-d458-4021-841d-222711144eed\">775</ac:inline-comment-marker>)</strong></p></li>\n<li>\n<p><strong>Check out custom content handler from CVS</strong></p>\n<ul>\n<li><p>Change into main directory of installation (above htdocs (so, that ls shows htdocs and projekte Ordner, if that one exists))</p></li>\n<li><pre><code class=\"language-text\">cvs co projekte/ProductCustomizingTeam/mySightWebsite/customcontenthandler</code></pre></li>\n<li>\n<p>Create symlinks for both Custom content handlers</p>\n<pre><code class=\"language-text\">cd htdocs/panelwebsite/custom\n         ln -s ../../../projekte/ProductCustomizingTeam/mySightWebsite/customcontenthandler/class_custom_panel_action_mysightdashboard.php class_custom_panel_action_mysightdashboard.php\n         ln -s ../../../projekte/ProductCustomizingTeam/mySightWebsite/customcontenthandler/class_custom_panel_action_mysightselectgroup.php class_custom_panel_action_mysightselectgroup.php</code></pre>\n</li>\n</ul>\n</li>\n</ul><p><strong>Documentation Gordon (custom content handler Setup):</strong> <a href=\"https://it.globalpark.de/twiki/pub/Support/MySight/MySight_installieren.docx\">MySight_installieren.docx</a></p><p><strong>Documentation regarding trusted ticket for custom content handler</strong></p><h3 id=\"header-22\">4. Import Mysight website</h3><ul>\n<li><p><strong>Login to installation</strong></p></li>\n<li>\n<p><strong>Navigate to Website &gt;&gt; qb only:: Import website</strong></p>\n<ul>\n<li><p>Name of new website: \"MySight\"</p></li>\n<li><p>Theme: -- No theme --</p></li>\n<li><p><ac:inline-comment-marker ac:ref=\"e18af07d-7977-4d76-9fde-e27b803f55bf\">File</ac:inline-comment-marker>:</p></li>\n</ul>\n</li>\n</ul><p class=\"media-group\"><ac:parameter ac:name=\"name\"><img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20714628616722\" alt=\"mysight_website.gpx\"></ac:parameter></p><p></p><ul>\n<li>\n<p><strong>Check whether the custom content handlers are set accordingly</strong></p>\n<ul>\n<li><p>Website editor &gt; Pages &gt; Select panelgroup &gt; QB-ONLY Show page module config &gt; Custom class should be \"panel_action_mysightselectgroup\"</p></li>\n<li><p>Website editor &gt; Pages &gt; MySight &gt; QB-ONLY Show page module config &gt; Custom class should be \"panel_action_mysightdashboard\"</p></li>\n<li><p>(You reach the website editor by clicking the language version [in this case it is the list item of 'MySight'])</p></li>\n</ul>\n</li>\n<li>\n<p><strong>Change the access rights for panel website and language version</strong> so that the following teams have access to both</p>\n<ul><li><p>Administrator, Paneladministrator</p></li></ul>\n</li>\n<li><p><strong>Change status of panel website and language version to \"Online\"</strong></p></li>\n</ul><h3 id=\"header-23\">5. Check configuration</h3><ul>\n<li><p><strong>Execute installation check</strong></p></li>\n<li>\n<p><strong>Alternatively you can check as follows:</strong></p>\n<ul>\n<li><p>Open any EFS project (except for forum discussions (FD))</p></li>\n<li><p>If MySight has been activated correctly, you will see menu \"MySight\" in Survey menu</p></li>\n<li><p>Click on \"MySight\" and check whether you see message \"No export job has been scheduled yet.\" in the top right corner. (If you can see it everything is fine??? -Daniel).</p></li>\n</ul>\n</li>\n</ul><h2 id=\"header-25\">Overview EFS configuration variables and values for MySight v1</h2><h3 id=\"header-27\">\n<ac:inline-comment-marker ac:ref=\"73ea6c7a-8401-4892-9399-fc8737468763\">SFTP </ac:inline-comment-marker>Data:</h3><p></p><ul>\n<li><p><strong>sftp_host</strong>(default:YES)______________________________________: <a href=\"http://mysight-data.bre.globalpark.com\">mysight-data.bre.globalpark.com</a> <strong>(FRANKFURT)</strong></p></li>\n<li><p><strong>sftp_host</strong>(default:NO)_______________________________________: 172.24.48.40 <strong>(RACKSPACE)</strong></p></li>\n<li><p><strong>sftp_path </strong>(default:YES)______________________________________: /usr/bin/</p></li>\n<li><p><strong>sftp_private_key </strong>(default:YES)________________________________: ../privatedocs/EFSsftp_private</p></li>\n<li><p><strong>sftp_user </strong>(default:YES)______________________________________: EFSsftp</p></li>\n</ul><h3 id=\"header-28\">Tableau SFTP Variables</h3><p><strong> The following is an older variable, that is still used by EFS 10.7, is only a configuration variable and is not within the EFS code. </strong><br><strong>A healselfchange should be requested for remove this flag from the EFS configuration.</strong><br></p><ul><li><p><strong>survey_export_tableau_sftp_directory</strong>(Standard:JA)___________: EFSsftp/</p></li></ul><h3 id=\"header-29\">Mysight variables</h3><p>By default is MySight v1 deactivated.</p><ul>\n<li><p><strong>mysight_enabled</strong>(default:YES)________________________________: FALSE</p></li>\n<li><p><strong>mysight_enabled</strong>(default:YES)________________________________: TRUE</p></li>\n<li><p><strong>mysight_user_provisioning_service</strong>(default:YES)______________: <a href=\"http://mysight-api.bre.globalpark.com:49865/app/api/process/userprovision/\">http://mysight-api.bre.globalpark.com:49865/app/api/process/userprovision/</a></p></li>\n<li><p><strong>mysight_user_provisioning_service</strong>(default:NO)______________: <a href=\"http://mysight-api.bre.globalpark.com:49866/app/api/process/userprovision/\">http://mysight-api.bre.globalpark.com:49866/app/api/process/userprovision/</a></p></li>\n<li><p><strong>mysight_user_provisioning_service</strong>(default:NO)______________: <a href=\"http://172.24.48.40:49866/app/api/process/userprovision/\">http://172.24.48.40:49866/app/api/process/userprovision/</a></p></li>\n</ul><h1 id=\"header-32\">Support</h1><h2 id=\"header-34\">Alteryx and Tableau Contacts</h2><ul>\n<li>\n<p><strong>Alteryx Licensing</strong></p>\n<ul>\n<li><p>Mark Pullen (IW) – <a href=\"mailto:mark.pullen@interworks.co.uk\">mark.pullen@interworks.co.uk</a></p></li>\n<li><p>Kirsty McGilway<a href=\"https://it.globalpark.de/twiki/bin/edit/Support/McGilway?topicparent=Support.MySight\">?</a> (IW) - <a href=\"mailto:kirsty.mcgilway@interworks.co.uk\">kirsty.mcgilway@interworks.co.uk</a></p></li>\n</ul>\n</li>\n<li>\n<p><strong>Tableau Licensing</strong></p>\n<ul><li><p>Patrick Zimmermann - <a href=\"mailto:pzimmermann@tableau.com\">pzimmermann@tableau.com</a></p></li></ul>\n</li>\n<li>\n<p><strong>Alteryx Bugs</strong></p>\n<ul>\n<li><p><a href=\"mailto:Clientservices@alteryx.com\">Clientservices@alteryx.com</a></p></li>\n<li><p>Include time zone and location in case they don’t match that automatically</p></li>\n<li><p>Attach any screen shots or errors</p></li>\n</ul>\n</li>\n<li>\n<p><strong>Tableau Bugs</strong></p>\n<ul>\n<li><p><a href=\"mailto:support@tableau.com\">support@tableau.com</a></p></li>\n<li><p>Include time zone and location in case they don't match that automatically</p></li>\n<li><p>Attach any screen shots or errors</p></li>\n</ul>\n</li>\n</ul><h2 id=\"header-35\">Logins</h2><h3 id=\"header-37\">MySight Citrix Server</h3><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-desktop.questback.com\">https://mysight-desktop.questback.com</a></p></li>\n<li><p><strong>Login:</strong> see PasswortSafe</p></li>\n</ul><p><strong>How to reach Workflows in the Alteryx Gallery</strong></p><ul>\n<li><p>Start your Citrix Receiver (see link above) and select the Chrome Link</p></li>\n<li><p>Enter the URL: <a href=\"http://bre-atx-01/Gallery\">http://bre-atx-01/Gallery</a></p></li>\n</ul><p><strong>How to reach the MySight Architect Toolkit</strong></p><ul>\n<li><p>Start your Citrix Receiver (see link above) and select the Chrome Link</p></li>\n<li><p>Enter the URL: <a href=\"http://bre-app-01:49865/app\">http://bre-app-01:49865/app</a> (for PREPROD2/PROD)</p></li>\n<li><p>Enter the URL: <a href=\"http://bre-app-01:49866/app\">http://bre-app-01:49866/app</a> (for PREPROD2/PROD)</p></li>\n</ul><p><strong>Other tools within Citrix Receiver</strong></p><ul>\n<li><p>Power Tools for Tableau Deployment v1.28.3 (former EDT, Enterprise Deployment Tool, v.1.19)</p></li>\n<li><p>Alteryx Designer (v.10.6)</p></li>\n<li><p>Tableau Desktop (v.10.2, v.10.3, v.10.4, v.10.5)</p></li>\n</ul><p> NOTICE: Find more informations under Documentation (see below)</p><p></p><h3 id=\"header-38\">MySight PREPROD and PREPROD2 Tableau Servers and aliases</h3><p><strong>PREPROD</strong> <strong>this server is down and will not be available in the future</strong></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-preprod.questback.com\">https://mysight-preprod.questback.com</a> (for presales)</p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><p><strong>PREPROD2</strong></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-preprod2.questback.com\">https://mysight-preprod2.questback.com</a> <strong>(for customers &amp; internal installations, non akamaized)</strong></p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><p></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-preprod2-de.customervoice360.com\">https://mysight-preprod2-de.customervoice360.com</a> <strong>(for customers &amp; internal installations, non akamaized)</strong></p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><p></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-preprod2a-de.customervoice360.com\">https://mysight-preprod2a-de.customervoice360.com</a> <strong>(for customers &amp; internal installations, non akamaized, will be akamaized in the future)</strong></p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><p><strong>USPREPROD</strong></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-preprod-us.customervoice360.com\">https://mysight-preprod-us.customervoice360.com</a> <strong>(for US customers &amp; internal installations, non akamaized)</strong></p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><p></p><h3 id=\"header-39\">MySight Production Tableau Server</h3><p><strong>PROD</strong></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-prod.questback.com\">https://mysight-prod.questback.com</a> <strong>(for customers, akamaized)</strong></p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><p></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-prod2.questback.com\">https://mysight-prod2.questback.com</a> <strong>(for customers, non akamaized)</strong></p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><p></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-prod2-de.customervoice360.com\">https://mysight-prod2-de.customervoice360.com</a> <strong>(for customers, non akamaized)</strong></p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><p></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-prod2a-de.customervoice360.com\">https://mysight-prod2a-de.customervoice360.com</a> <strong>(for customers, non akamaized for now, will be akamaized in the future)</strong></p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><p><strong>USPROD</strong></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-prod-us.customervoice360.com\">https://mysight-prod-us.customervoice360.com</a> <strong>(for US customers, akamaized)</strong></p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><p></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight-prod.customervoice360.com\">https://mysight-prod.customervoice360.com</a> <strong>(for US customers, non akamaized)</strong></p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><h3 id=\"header-40\">MySight Tableau Server for Testkanal installations (TABTKA)</h3><ul>\n<li><p><strong>URL:</strong> <a href=\"https://tableau10.qb-feedback.com\">https://tableau10.qb-feedback.com</a></p></li>\n<li><p><strong>Login:</strong> see PasswordSafe</p></li>\n</ul><h3 id=\"header-41\">MySight SFTP Server</h3><ul><li><p><strong>URL:</strong> sftp://mysight-data.questback.com</p></li></ul><h3 id=\"header-42\">MySight Portal Address</h3><ul>\n<li><p><strong>URL:</strong> <a href=\"https://mysight.questback.com\">https://mysight.questback.com</a></p></li>\n<li><p><strong>Login:</strong></p></li>\n</ul><h2 id=\"header-44\">Documentation</h2><h3 id=\"header-46\">Preparation in EFS</h3><ul>\n<li><p>create an EFS project and collect data</p></li>\n<li><p>create a panel group that holds panelists that should have access to the final dashboard</p></li>\n<li>\n<p>in your project under Survey menu &gt;&gt; MySight select \"Update interval\" &gt;&gt; \"Export immediately\", select your panel group and hit \"save\".</p>\n<ul><li><p>This will add the site to the Tableau server (if not yet exists), will create a project folder and will upload the data.csv and users.csv.</p></li></ul>\n</li>\n<li><p>see <a href=\"https://it.globalpark.de/twiki/pub/Support/MySight/Pre-Sales_Dashboard_Setup_v1.0.pdf\">Pre-Sales Dashboard Setup v1.0</a> for all further steps in EFS</p></li>\n<li><p>see <a href=\"https://it.globalpark.de/twiki/pub/Support/MySight/My_Sight_Cheat_Sheet.docx\">My_Sight_Cheat_Sheet.docx</a> resp. <a href=\"https://it.globalpark.de/twiki/pub/Support/MySight/QuestbackMySightDataArchitectAnalystUserManual.pdf\">Questback MySight Data Architect Analyst User Manual</a> for all further steps in Tableau</p></li>\n</ul><h3 id=\"header-47\">Site Roles for users</h3><p> Information about Site Roles for users</p><ul><li><p><a href=\"http://onlinehelp.tableau.com/current/server/en-us/users_site_roles.htm\">http://onlinehelp.tableau.com/current/server/en-us/users_site_roles.htm</a></p></li></ul><h3 id=\"header-48\">Documentation page</h3><ul><li><p><strong>URL:</strong> <a data-card-appearance=\"inline\" href=\"https://docs.google.com/document/d/1VLbcPtvTpKi5E_UdrCwLMtbO_omv5JvJGt1OFR3Xz8M/edit?usp=sharing\">https://docs.google.com/document/d/1VLbcPtvTpKi5E_UdrCwLMtbO_omv5JvJGt1OFR3Xz8M/edit?usp=sharing</a> </p></li></ul><p> oder Anhang</p><ul><li><p><strong>QuestbackMySightDataArchitectAnalystUserManual:</strong> <a href=\"https://it.globalpark.de/twiki/pub/Support/MySight/QuestbackMySightDataArchitectAnalystUserManual.pdf\">QuestbackMySightDataArchitectAnalystUserManual.pdf</a></p></li></ul><p> oder</p><ul><li><p><strong>Ausdruck</strong> beim Technischen Support</p></li></ul><h3 id=\"header-49\">Mysight Overview/Cheat Sheet</h3><ul><li><p><strong>My Sight Overview/Cheat Sheet</strong>: <a href=\"https://it.globalpark.de/twiki/pub/Support/MySight/My_Sight_Cheat_Sheet.docx\">My_Sight_Cheat_Sheet.docx</a></p></li></ul><p></p><h3 id=\"header-50\">MySight Checklist</h3><ul><li><p><strong>MySight Checklist:</strong> <a href=\"https://it.globalpark.de/twiki/pub/Support/MySight/MySight_Checklist.docx\">MySight_Checklist.docx</a></p></li></ul><h3 id=\"header-51\">Alteryx Data field types:</h3><ul><li><p><a href=\"http://downloads.alteryx.com/Alteryx/Help/Reference/DataFieldType.htm\">http://downloads.alteryx.com/Alteryx/Help/Reference/DataFieldType.htm</a></p></li></ul><p></p><h3 id=\"header-52\">MySight Websites installieren und Ipsos CLS aufsetzen (Professional Services/Customizing)</h3><p> Anbei ein Dokument, in dem beschrieben ist, wie man <a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight\">MySight</a> Websites installiert und wie das Ipsos CLF aufgesetzt wird. <br>Dies übernimmt normalerweise Professional Services/Customizing, aber falls es dort aufgrund von Urlaub/Krankheit keiner machen kann, hier für uns zur Doku.</p><ul><li><p><a href=\"https://it.globalpark.de/twiki/pub/Support/MySight/MySight_CLF_installieren.docx\">MySight_CLF_installieren.docx</a>: <a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight\">MySight</a>_CLF-installieren</p></li></ul><h3 id=\"header-53\">Process for switching from PREPROD to PREPROD2/PROD and publishing data from PREPROD2 to PROD</h3><ul>\n<li><p>Link to a knowlede sharing ticket: <a href=\"https://jira.3uu.de/browse/IPSOSPRJ-721\">https://jira.3uu.de/browse/IPSOSPRJ-721</a></p></li>\n<li><p>Reference Case: 00374525</p></li>\n</ul><p><strong>Here our new implementation (used by SalesPulse, made by Heiko) for simultan user provisioning on PREPROD, PREPROD2 and PROD</strong> (including the new deployment process for data sources). This implemantation is only used by Professional Services and the primary function is Dashboard testing on different enviroments (PREPROD, PREPROD2, PROD).</p><ul><li><p>Reference Case: 00393790</p></li></ul><p><strong>How To</strong></p><ul><li>\n<p>User provisioning</p>\n<ul><li><p>Use Workflow \"Call_mysightcontrol_v2\" within the Data Flow Configuration (project&gt;mysight)</p></li></ul>\n</li></ul><p> NOTICE: a Temporary port switch from PREPROD to PREPROD2/PROD is not needed anymore (user_provisioning_service, EFS configuration).</p><p>Example</p><p></p><pre><code class=\"language-text\">&lt;module appId=\"5873a587b7d2bb075047f077\" name=\"Call_mysightcontrol_v2\"&gt;\n&lt;questions&gt;\n&lt;question name=\"URL\" value=\"http://192.168.42.16:49866/app/api/process/userprovision_noalteryx\" /&gt;\n&lt;question name=\"Site\" value=\"sk2063.customervoice360.com\" /&gt;\n&lt;question name=\"Project\" value=\"&lt;Your project&gt;\" /&gt;\n&lt;question name=\"Email\" value=\"&lt;Your email address&gt;\" /&gt;\n&lt;/questions&gt;\n&lt;/module&gt;\n</code></pre><p></p><ul><li>\n<p>Publish Data Sources</p>\n<ul><li><p>Create a new or use an existing \"post.bat\" file placed on a \"site/project\" directory (SFTP server).</p></li></ul>\n</li></ul><p>Example (see under \\\\bre-atx-01\\EFSsftp\\<a href=\"http://sk2063.customervoice360.com\">sk2063.customervoice360.com</a>\\3064_AN\\post.bat&lt;file:///\\\\bre-atx-01\\EFSsftp\\<a href=\"http://sk2063.customervoice360.com\">sk2063.customervoice360.com</a>\\3064_AN\\post.bat&gt;)</p><p></p><pre><code class=\"language-text\">\"C:\\Tableau\\Tableau Server\\10.0\\extras\\Command Line Utility\\tabcmd.exe\" publish -s https://mysight-preprod2.questback.com -t sk2063customervoice360com -r 3064_AN --no-certcheck -u tabalteryx --password-file \"C:\\Tableau\\Tableau Server\\10.0\\extras\\Command Line Utility\\tabcmd_password.txt\" -o \"\\\\bre-atx-01\\EFSsftp\\sk2063.customervoice360.com\\3064_AN\\MySightTest2.tde&lt;file:///\\\\bre-atx-01\\EFSsftp\\sk2063.customervoice360.com\\3064_AN\\MySightTest2.tde&gt;\"\n\n\"C:\\Tableau\\Tableau Server\\10.0\\extras\\Command Line Utility\\tabcmd.exe\" publish -s https://mysight-prod.questback.com -t sk2063customervoice360com -r 3064_AN --no-certcheck -u tabalteryx --password-file \"C:\\Tableau\\Tableau Server\\10.0\\extras\\Command Line Utility\\tabcmd_password.txt\" -o \"\\\\bre-atx-01\\EFSsftp\\sk2063.customervoice360.com\\3064_AN\\MySightTest2.tde&lt;file:///\\\\bre-atx-01\\EFSsftp\\sk2063.customervoice360.com\\3064_AN\\MySightTest2.tde&gt;\"\n\nexit\n</code></pre><p></p><p></p><ul><li>\n<p>Publish Workbooks</p>\n<ul><li><p>Use Tableau Desktop 10.0 for this task</p></li></ul>\n</li></ul><h3 id=\"header-54\">How to manually publish your Dashboards (Author: Gordon Fiedler)</h3><p> (english translation still to come)</p><h3 id=\"header-55\">How to manually publish Data Sources and for the first time a new Dashboard (Author: Gordon Fiedler)</h3><p> (still to come)</p><h3 id=\"header-56\">How to reinitiate the initial sync of result data to Exasol</h3><p> case 00860069<br>When do you have to re-initiate the initial sync of the result data?<br></p><ul>\n<li><p>The first try was not successful</p></li>\n<li><p>The first try seems to be successful because the MySight log states that it was but result data is missing in Exasol</p></li>\n</ul><p><br>Steps:</p><ul>\n<li><p>Count the completes in the EFS project(s), e.g. 1000</p></li>\n<li>\n<p>Count the distinct participant_ids in the Exasol FACT table:</p>\n<ul>\n<li><pre><code class=\"language-text\">SELECT COUNT(DISTINCT PARTICIPATION_ID) FROM PS9945.EFS_304DBDD5BA96C00C5E18AAC2C4C25894_FACT_2627;</code></pre></li>\n<li><p>Result e.g. 100</p></li>\n</ul>\n</li>\n<li>\n<p>Select the MIN and MAX participation_id</p>\n<ul><li><pre><code class=\"language-text\">SELECT MIN(PARTICIPATION_ID) FROM PS9945.EFS_304DBDD5BA96C00C5E18AAC2C4C25894_FACT_2627;</code></pre></li></ul>\n</li>\n<li>\n<p>Check whether the job for the initial sync is still in the jobs table:</p>\n<ul><li><pre><code class=\"language-text\">SELECT * FROM jobs WHERE todo LIKE \"%2627%\"</code></pre></li></ul>\n</li>\n<li>\n<p>If the job still exists, set \"stat=0\" and maybe also \"attemptFailed=0\" in the todo:</p>\n<ul><li><pre><code class=\"language-text\">UPDATE jobs SET todo='a:3:{s:3:\"act\";s:33:\"initialSyncMysightInstanceResults\";s:10:\"instanceId\";i:2627;s:7:\"jobData\";a:1:{i:1923;a:4:{s:7:\"minLfdn\";s:3:\"207\";s:7:\"maxLfdn\";s:5:\"33744\";s:11:\"totalNumber\";s:5:\"21711\";s:9:\"varNumber\";i:768;}}}' WHERE job_id=\"18616346675a040a6c03830\";</code></pre></li></ul>\n</li>\n<li>\n<p>Change the status of the MySight instance so that the initial sync is started again (see MySight v2 Publication status)</p>\n<ul><li><pre><code class=\"language-text\">UPDATE mysight_instance SET publication_status=138 WHERE id=[id];</code></pre></li></ul>\n</li>\n<li><p>When the jobmaker is executed the next time, it will start the job in the jobs table and sync data</p></li>\n</ul><h3 id=\"header-57\">MySight v2 Publication status</h3><p> Table: mysight_instance<br><br></p><ul>\n<li><p>const STATUS_DRAFT = 0;</p></li>\n<li><p>const STATUS_PUBLICATION_INPROGRESS = 1;</p></li>\n<li><p>const STATUS_PUBLICATION_SUCCESSFULL = 2;</p></li>\n<li><p>const STATUS_PUBLICATION_FAILED = 4;</p></li>\n<li><p>const STATUS_SYNCRESULT_INPROGRESS = 8;</p></li>\n<li><p>const STATUS_SYNCRESULT_SUCCESSFULL = 16;</p></li>\n<li><p>const STATUS_SYNCRESULT_FAILED = 32;</p></li>\n<li><p>const STATUS_SYNCTABLEAU_INPROGRESS = 64;</p></li>\n<li><p>const STATUS_SYNCTABLEAU_SUCCESSFULL = 128;</p></li>\n<li><p>const STATUS_SYNCTABLEAU_FAILED = 256;</p></li>\n<li><p>const STATUS_SYNCRESULT_SUSPENDED = 512;</p></li>\n<li><p>const STATUS_SYNC_ACPLANNER_INPROGRESS = 1024;</p></li>\n<li><p>const STATUS_SYNC_ACPLANNER_SUCCESSFULL = 2048;</p></li>\n<li><p>const STATUS_SYNC_ACPLANNER_FAILED = 4096;</p></li>\n</ul><p>Examples of publication status:</p><table data-layout=\"default\" data-table-width=\"760\" ac:local-id=\"78d05b4b-96ae-49d5-99e3-6ad8f426f4a4\">\n<colgroup>\n<col style=\"width: 340.0px;\">\n<col style=\"width: 340.0px;\">\n</colgroup>\n<tbody>\n<tr>\n<td><p>publication_status = 66</p></td>\n<td><pre><code class=\"language-text\">STATUS_PUBLICATION_SUCCESSFULL(2)\nSTATUS_SYNCTABLEAU_INPROGRESS (64) </code></pre></td>\n</tr>\n<tr>\n<td><p>publication_status = 138</p></td>\n<td><pre><code class=\"language-text\">STATUS_PUBLICATION_SUCCESSFULL(2)\nSTATUS_SYNCRESULT_INPROGRESS (8)\nSTATUS_SYNCTABLEAU_SUCCESSFULL (128) </code></pre></td>\n</tr>\n<tr>\n<td><p>publication_status = 146</p></td>\n<td><pre><code class=\"language-text\">STATUS_PUBLICATION_SUCCESSFULL (2)\nSTATUS_SYNCRESULT_SUCCESSFULL (16)\nSTATUS_SYNCTABLEAU_SUCCESSFULL (128)</code></pre></td>\n</tr>\n<tr>\n<td><p>publication_status = 162</p></td>\n<td><pre><code class=\"language-text\">STATUS_PUBLICATION_SUCCESSFULL (2)\nSTATUS_SYNCRESULT_FAILED (32)\nSTATUS_SYNCTABLEAU_SUCCESSFULL (128)</code></pre></td>\n</tr>\n<tr>\n<td><p>publication_status = x</p></td>\n<td><pre><code class=\"language-text\">x\ny\nz</code></pre></td>\n</tr>\n</tbody>\n</table><p></p><p></p><pre><code class=\"language-text\">UPDATE mysight_instance SET publication_status=[calculated status] WHERE id=[mysight instance id]</code></pre><p></p><h3 id=\"header-58\">MySight v2 EFS Tables and description</h3><p> List of tables and table names can be changed at all times, so this list might not be accurate<br></p><table data-layout=\"default\" data-table-width=\"760\" ac:local-id=\"2d413f45-cd5c-4a17-bab4-49f07cc839f4\">\n<colgroup>\n<col style=\"width: 340.0px;\">\n<col style=\"width: 340.0px;\">\n</colgroup>\n<tbody>\n<tr>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=0;table=4;up=0#sorted_table\">Table name</a></p></th>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=1;table=4;up=0#sorted_table\">Description</a></p></th>\n</tr>\n<tr>\n<td><p>mysight_actionplanner_queue</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_connection</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_instance</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_instance_config</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_instance_log</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_instance_map</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_instance_notification_recipient</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_instance_user_groups</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_panel_group_queue</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_pushservice_token_info</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_survey_participation_queue</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_tableau_group</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_tableau_group2project</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_tableau_host</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_tableau_project</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_tableau_site</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_tableau_user</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>mysight_tableau_user2group</p></td>\n<td><p></p></td>\n</tr>\n</tbody>\n</table><p></p><h3 id=\"header-59\">MySight v2 Intermediate/Exasol tables and descriptions</h3><p> List of tables and table names can be changed at all times, so this list might not be accurate</p><p></p><table data-layout=\"default\" data-table-width=\"760\" ac:local-id=\"70102850-3dfc-4443-bb8f-c3fa49d0ea1b\">\n<colgroup>\n<col style=\"width: 340.0px;\">\n<col style=\"width: 340.0px;\">\n</colgroup>\n<tbody>\n<tr>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=0;table=5;up=0#sorted_table\">Table name</a></p></th>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=1;table=5;up=0#sorted_table\">Description</a></p></th>\n</tr>\n<tr>\n<td><p>%_ACCOUNT_[instance_id]</p></td>\n<td><p>Panelist accounts that have access to the dashboards via the selected groups</p></td>\n</tr>\n<tr>\n<td><p>%_DIMENSION_[instance_id]_1</p></td>\n<td><p>variables that were selected as dimensions/splits within the mysight instance</p></td>\n</tr>\n<tr>\n<td><p>%_FACT_[instance_id]</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>%_FREPORT_[instance_id]</p></td>\n<td><p>data of Field report</p></td>\n</tr>\n<tr>\n<td><p>%_NODE_[instance_id]</p></td>\n<td><p>in employee surveys, list of org units with label, meta name and org code etc.</p></td>\n</tr>\n<tr>\n<td><p>%_ORG_[instance_id]</p></td>\n<td><p>in employee surveys, link table between project, participant and org unit</p></td>\n</tr>\n<tr>\n<td><p>%_ORG_BRIDGE_[instance_id]</p></td>\n<td><p>in employee surveys, link table between org unit and its parent, also shows the metaname of the unit</p></td>\n</tr>\n<tr>\n<td><p>%_PATH_[instance_id]</p></td>\n<td><p>in employee surveys, org structure</p></td>\n</tr>\n<tr>\n<td><p>%_PROJECT_[instance_id]</p></td>\n<td><p>ID, title and description of EFS project(s) that have been selected within the mysight instance</p></td>\n</tr>\n<tr>\n<td><p>%_QUESTION_[instance_id]</p></td>\n<td><p>details to questions of the EFS project(s) e.g. question title</p></td>\n</tr>\n<tr>\n<td><p>%_TEXT_[instance_id</p></td>\n<td><p>Answers to open ended questions</p></td>\n</tr>\n<tr>\n<td><p>%_USER_[instance_id]</p></td>\n<td><p>Overview of users (panelists) and assignment to org units</p></td>\n</tr>\n<tr>\n<td><p>%_LANGUAGE_[instance_id]</p></td>\n<td><p>Overview of language</p></td>\n</tr>\n<tr>\n<td><p>%_STATUS_[instance_id]</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>%_CATEGORY_[instance_id]</p></td>\n<td><p></p></td>\n</tr>\n<tr>\n<td><p>%_RATER_GROUP_[instance_id]</p></td>\n<td><p></p></td>\n</tr>\n</tbody>\n</table><h3 id=\"header-60\">MySight v2 Sync Process in the logs</h3><ul>\n<li>\n<p>if you grep for JOBMAKER you will see the jobs</p>\n<pre><code class=\"language-text\">###### JOBMAKER STARTING JOB 'mysightSyncResultQueue'</code></pre>\n<p> or</p>\n<pre><code class=\"language-text\">###### JOBMAKER STARTING JOB 'mysightSyncGroupQueue'</code></pre>\n</li>\n<li>\n<p>within these connections the INTERMEDIATE Db will get updated. The last UPDATE statement might look like this:</p>\n<pre><code class=\"language-text\">      13582387 Query  UPDATE EFS_D19D4250CBBA35A2A8695258E7225C94_FACT_8765 AS f JOIN EFS_D19D4250CBBA35A2A8695258E7225C94_TEXT_8765 AS t \n                                ON(f.PROJECT_ID=t.PROJECT_ID AND f.PARTICIPATION_ID=t.PARTICIPATION_ID AND f.QUESTION_ID=t.QUESTION_ID) \n                                SET f.TEXT_ID=t.TEXT_ID\n      </code></pre>\n</li>\n<li>\n<p>Once all data has been passed to the INTERMEDIATE DB, the data is being fetched, so that it can be stored in the Exasol. There will be a connection, that starts with a statement like this one:</p>\n<pre><code class=\"language-text\">              13582389 Query  /* mysql-connector-java-5.1.18 ( Revision: tonci.grgin@oracle.com-20110930151701-jfj14ddfq48ifkfq ) */\n                              SHOW VARIABLES WHERE Variable_name ='language' OR Variable_name = 'net_write_timeout' OR Variable_name = 'interactive_timeout' OR Variable_name = 'wait_timeout' \n                              OR Variable_name = 'character_set_client' OR Variable_name = 'character_set_connection' OR Variable_name = 'character_set' OR Variable_name = 'character_set_server' \n                              OR Variable_name = 'tx_isolation' OR Variable_name = 'transaction_isolation' OR Variable_name = 'character_set_results' OR Variable_name = 'timezone' OR Variable_name = 'time_zone' \n                              OR Variable_name = 'system_time_zone' OR Variable_name = 'lower_case_table_names' OR Variable_name = 'max_allowed_packet' OR Variable_name = 'net_buffer_length' \n                              OR Variable_name = 'sql_mode' OR Variable_name = 'query_cache_type' OR Variable_name = 'query_cache_size' OR Variable_name = 'init_connect'\n      </code></pre>\n</li>\n<li>\n<p>After this connection has quit, the INTERMEDIATE will be cleaned (data gets deleted from the tables and the tables get optimized, because the size of the files used for the tables keep their size):</p>\n<pre><code class=\"language-text\"> \n               13582387 Query  DELETE FROM EFS_D19D4250CBBA35A2A8695258E7225C94_FACT_8765\n               13582387 Query  OPTIMIZE TABLE EFS_D19D4250CBBA35A2A8695258E7225C94_FACT_8765\n               13582387 Query  DELETE FROM EFS_D19D4250CBBA35A2A8695258E7225C94_TEXT_8765 WHERE TEXT_ID &gt; 1\n               13582387 Query  OPTIMIZE TABLE EFS_D19D4250CBBA35A2A8695258E7225C94_TEXT_8765\n               13582387 Quit\n      </code></pre>\n</li>\n</ul><p></p><h3 id=\"header-61\">MySight v2 config variables</h3><p></p><table data-layout=\"default\" data-table-width=\"760\" ac:local-id=\"1c00cffd-e234-4651-a02b-e6ff6e97a42a\">\n<colgroup>\n<col style=\"width: 170.0px;\">\n<col style=\"width: 170.0px;\">\n<col style=\"width: 170.0px;\">\n<col style=\"width: 170.0px;\">\n</colgroup>\n<tbody>\n<tr>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=0;table=6;up=0#sorted_table\">Config variable</a></p></th>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=1;table=6;up=0#sorted_table\">Description</a></p></th>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=2;table=6;up=0#sorted_table\">Default value</a></p></th>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=3;table=6;up=0#sorted_table\">Max possible value</a></p></th>\n</tr>\n<tr>\n<td><p>mysight_instance_dimension_limit</p></td>\n<td><p></p></td>\n<td><p>20</p></td>\n<td><p>40</p></td>\n</tr>\n</tbody>\n</table><h2 id=\"header-63\">Exasol</h2><h3 id=\"header-65\">Connection to database scheme</h3><ul>\n<li>\n<p>Via Windows desktop client</p>\n<ul>\n<li><p>Client can be downloaded here: <a href=\"https://www.exasol.com/portal/display/DOWNLOAD/6.0\">https://www.exasol.com/portal/display/DOWNLOAD/6.0</a></p></li>\n<li><p>After starting the client, click connect and enter the connection data that can be seen in the EFS installation (qb:: MySight connections)</p></li>\n<li><p>You might have to use the \"sys\" user and default Exasol password instead of the user used in EFS</p></li>\n</ul>\n</li>\n<li>\n<p>Via linux console</p>\n<ul>\n<li><p>Login to the corresponding server, e.g. Frankfurt or Testkanal</p></li>\n<li>\n<p>execute the following command with the connection details that can be seen in the EFS installation (qb:: MySight connections)</p>\n<pre><code class=\"language-text\">exaplus -u [username] -p [password] -c [host:port] -s [schema name]</code></pre>\n</li>\n<li>\n<p>the login data can be retrieved from the installations mysight_configuration table</p>\n<pre><code class=\"language-text\">SELECT * FROM mysight_configuration;</code></pre>\n</li>\n<li>\n<p>you can use the -pipe parameter with the explus command to be able to pipe echoed sql statements to the explus (and also pipe its output to files or other commands)</p>\n<pre><code class=\"language-text\">echo \"SELECT TABLE_NAME from EXA_ALL_TABLES WHERE TABLE_SCHEMA='SF9961';\" | exaplus -u [username] -p [password] -c [host:port] -s [schema name] -pipe</code></pre>\n</li>\n<li>\n<p>you can also use the -sql parameter to be able to execute single sql statements on the exasol</p>\n<pre><code class=\"language-text\">exaplus -u [username] -p [password] -c [host:port] -s [schema name] -sql \"select DISTINCT(TABLE_SCHEMA) from EXA_ALL_TABLES;\"</code></pre>\n</li>\n<li><p>Information about all tables and schemas can be retrieved from the EXA_ALL_TABLES table (see the two examples above).</p></li>\n<li>\n<p><strong>EXASOL DEADLOCK</strong>: <br>The EXA_STATISTICS table contains lots of information about usage of the schemas. Especially EXA_DBA_TRANSACTION_CONFLICTS table migh be of interest, because in case mysight syncs initiated by the jobmaker fail, it might be related to conflicts, that can be seen here. In this case the STOP_TIME will be missing for some entries</p>\n<pre><code class=\"language-text\">SESSION_ID\t          CONFLICT_SESSION_ID\t START_TIME\t                 STOP_TIME\t                 CONFLICT_TYPE\tCONFLICT_OBJECTS\n      1624565964912376665 1624560875230837581\t2019-02-04 20:01:46.781\t2019-02-04 20:01:57.728\tWAIT FOR COMMIT\tglobal connection list</code></pre>\n</li>\n<li>\n<p>Exaplus Conflicts logged in EXA_DBA_TRANSACTION_CONFLICTS table in EXA_STATISTICS schema (screenshot was taken after the conflict had been resolved by killing one of the conflicting connections): <br></p>\n<pre><code class=\"language-text\">KILL SESSION 1624529238170052353;</code></pre>\n<p> with no quotes around the SESSION_ID to be killed</p>\n<img src=\"https://discoverxi-supportdesk.zendesk.com/hc/article_attachments/20714612832658\" alt=\"image-20200919-084924.png\"><p></p>\n</li>\n</ul>\n</li>\n<li><p>Sammelticket zum Gerade ziehen der Exasol Rechte Case Nr 00884170</p></li>\n</ul><h2 id=\"header-67\">FAQ</h2><h3 id=\"header-69\">Overview MySight Permissions (how to fix MySight permissions issues)</h3><ul>\n<li><p><strong>Comparison of default permissions:</strong> <a href=\"https://it.globalpark.de/twiki/pub/Support/MySight/MYSIGHT_PERMISSIONS_V1_OR_V2.pdf\">MYSIGHT_PERMISSIONS_V1 OR_V2.pdf</a></p></li>\n<li><p><strong>Simultaneous use of both modules:</strong> <a href=\"https://it.globalpark.de/twiki/pub/Support/MySight/MYSIGHT_PERMISSIONS_V1_AND_V2_SIMULTAN.pdf\">MYSIGHT_PERMISSIONS_V1_AND_V2_SIMULTAN.pdf</a></p></li>\n<li><p><strong>Default project permissions:</strong> <a href=\"https://it.globalpark.de/twiki/pub/Support/MySight/MYSIGHT_PERMISSIONS_DEFAULT_PROJECT_V1_OR_V2.pdf\">MYSIGHT_PERMISSIONS_DEFAULT_PROJECT_V1_OR_V2.pdf</a></p></li>\n</ul><p></p><p><strong>HOW TO FIX PERMISSSIONS</strong></p><ul>\n<li><p><strong>In case of MySight v1 or MySight v2 issues all settings should be similar to all settings in document \"Comparison of default permissions\" (see above)</strong></p></li>\n<li><p><strong>New MySight v2 activation? Default project should always have permissions similar to MySight v2 permissions: See document above \"Default project permissions\"</strong></p></li>\n</ul><p><strong>(Notice: you can find all *.png, *.pptx and *.pdf files on dilli: P:\\ceur\\R-D.GERMANY\\IT.OPS.GERMANY\\TECHNICAL.SUPPORT.GERMANY\\Dokumentationen\\MySight)</strong></p><h3 id=\"header-70\">MySight v1 (old) &amp; MySight v2: Grant access to Tableau server</h3><p></p><table data-layout=\"default\" data-table-width=\"760\" ac:local-id=\"4559c477-1759-4dee-a38e-c608561fa553\">\n<colgroup>\n<col style=\"width: 170.0px;\">\n<col style=\"width: 170.0px;\">\n<col style=\"width: 170.0px;\">\n<col style=\"width: 170.0px;\">\n</colgroup>\n<tbody>\n<tr>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=0;table=7;up=0#sorted_table\">MySight version</a></p></th>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=1;table=7;up=0#sorted_table\">tableau server</a></p></th>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=2;table=7;up=0#sorted_table\">access allowed</a></p></th>\n<th><p><a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight?sortcol=3;table=7;up=0#sorted_table\">access to tableau server</a></p></th>\n</tr>\n<tr>\n<td><p>v1 (old)</p></td>\n<td><p>PREPROD2</p></td>\n<td><p>for questback and customer users</p></td>\n<td><p>given by Windows System Engineers and Technical Support</p></td>\n</tr>\n<tr>\n<td><p>v1 (old)</p></td>\n<td><p>PROD</p></td>\n<td><p>only for questback users</p></td>\n<td><p>given by Windows System Engineers and Technical Support</p></td>\n</tr>\n<tr>\n<td><p>v2</p></td>\n<td><p>PREPROD2</p></td>\n<td><p>only for questback users</p></td>\n<td><p>EFS users can register themselves without our help</p></td>\n</tr>\n<tr>\n<td><p>v2</p></td>\n<td><p>PROD</p></td>\n<td><p>for questback and customer users</p></td>\n<td><p>EFS users can register themselves without our help</p></td>\n</tr>\n</tbody>\n</table><p><strong>NOTICE:</strong> In the meantime customers using both <a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight\">MySight</a> Versions can register themselves on PROD without our help</p><h3 id=\"header-71\">(MySight old) Site is not shown on MySight preprod server</h3><ul>\n<li><p>Question: We try to publish a datasource to Preprod (<a href=\"https://mysight-preprod.questback.com\">https://mysight-preprod.questback.com</a>) but it does not show up there.</p></li>\n<li><p>Answer: You may not have a users.csv file. The users.csv file creates the site on preprod and prod server. If there is no such file, the site will not be created. Therefore create/upload the users.csv file and then run the update in EFS/mysight again. The site then will be visible on preprod and prod server. [noch dokumentieren, wo man die users.csv uploaded]</p></li>\n</ul><h3 id=\"header-72\">(MySight old) Mail error request failed and users.csv</h3><ul><li><p>Request failed -&gt; i.e. the passwords of the panelists is too weak -&gt; try sgsin with more secure passwords</p></li></ul><h3 id=\"header-73\">(MySight old) Creation of trusted tickets</h3><ul>\n<li><p>Question: How can i test, if the trusted tickets get created for panelists trying to access a specific dashboard/site?</p></li>\n<li><p>Answer: Freddy created a test script for this purpose. It can be found among the attachments down below.</p></li>\n</ul><pre><code class=\"language-text\">Attention: \nSince Tableau uses a whitelist to enable the EFS frontends for ticket retrieval, this needs to be triggered from a frontend too.\nSo after you tested this script, please remove it immediately from the installation again.\n\nThis is how you can test the ticket retrieval:\n\n-\tCopy the attached script to htdocs/document_root/tableau_ticket_test_script.php\n-\tComment out Prod when you want to use preprod (and vice versa)\n-\tAdd the panelists identifier in $data\n-\tAdd the Tableau Site in $data\n-\tOpen up the browser: http://INSTALLATION/ tableau_ticket_test_script.php\n\nThe created ticket gets printed out.\nIf it is not working, you will get a false value.\n</code></pre><h3 id=\"header-74\">(MySight old) Trusted ticket issue (Case 00943924)</h3><p> From time to time we have face issues with use of trusted tickets (see above). But in some case there is no issue caused by whitelisting on tableau.</p><p>For Example: An error occurred on the server. The details of the error are: Could not locate unexpired trusted ticket -1 Click the Refresh button in your web browser and try again. If you continue to receive this error please contact your Tableau Server Administrator.</p><p></p><p>There is a variable for login for a Site on Language Version. On this field can be registered an already existing Tableau user. Is the used user not existing on tableau server, you will get a trusted ticket error message.</p><h3 id=\"header-75\">(MySight old) Workbooks/Dashboards are not loading on Tableau server (e.g. preprod2)</h3><ul>\n<li><p>Problem: On Tableau preprod2 none of the Workbooks/Dashboards are loading. When clicking on a workbook you only see the loading icon but nothing happens</p></li>\n<li><p>Questions to ask: Could the workbook be viewed before? Has the workbook or data source been changed or republished recently?</p></li>\n<li>\n<p>Possible reasons:</p>\n<ul><li>\n<p>Check the processes on the Tableau server (Heiko). Maybe the CPU has a high load. In this case you(Heiko) might have to kill the process. This can be connected to a problematic setup of the workbook.</p>\n<ul><li><p>Check the workbook to find problematic settings and fix them.</p></li></ul>\n</li></ul>\n</li>\n</ul><h3 id=\"header-76\">(MySight new) When is data synched to the intermediate database?</h3><p> Question: Is data synched only if a survey is connected and not at the start of the survey or per page?<br>Answer: The intermediate database is used for synching data. The latter is triggered by the jobmaker. In the backend this process uses the export of completed interviews (dispcode 31 and 32)</p><h3 id=\"header-77\">(MySight new) How can data be synched to the intermediate database manually</h3><p> It might be necessary to manually synch data to the intermediate and Exasol database, e.g. in case of an import of result data.<br>In EFS versions &lt; 17.3 imported result data is not synched automatically because those imports are not written into table mysight_survey_participation_queue.<br>Here is how to manually add the datasets to the table and have them synched.</p><p></p><ul><li>\n<p>Find out which participations need to be synchronized, e.g. all participations imported on a special date and time. Note: No testers are synchronized and only dispcodes 31 and 32 are synchronized!</p>\n<pre><code class=\"language-text\">SELECT pid, lfdn, 2, 1 FROM sample_data WHERE pid=[PID ]AND status=31 and tester=0 AND date_of_last_access &gt; '[DATE];\nSELECT pid, lfdn, 2, 1 FROM sample_data WHERE pid=1502 AND status=31 and tester=0 AND date_of_last_access &gt; '2017-09-05 00:00:00';</code></pre>\n</li></ul><p></p><ul><li>\n<p>Prepare insert statements in an .sql file on the server</p>\n<pre><code class=\"language-text\">INSERT INTO mysight_survey_participation_queue (pid, lfdn, sync_type, status) VALUES ([PID],[LFDN],2,1);\nINSERT INTO mysight_survey_participation_queue (pid, lfdn, sync_type, status) VALUES (1502,8925,2,1);</code></pre>\n</li></ul><p></p><ul><li>\n<p>Insert those lfdns into table mysight_survey_participation_queue by sourcing the previously prepared sql file.</p>\n<pre><code class=\"language-text\">Source [FILENAME]\nsource mysight_sync_1502.sql;</code></pre>\n</li></ul><p></p><ul>\n<li><p>Wait until jobmaker is executed (or execute it manually)</p></li>\n<li><p>Check MySight Log in System &gt;&gt; Options &gt;&gt; MySight settings &gt;&gt; qb:: MySight log</p></li>\n</ul><p></p><ul><li><p>a little update for different cases. The statements (originally REPLACEs are used) use another sync_type if the participant has already been synchronized and gets updated. In case a participant with status 31/32 is set to status 15 or status 12 the sync_type is still 2 and status 1. In case a participant gets reset with deletion of data, so that status 11 is set, the used sync_type is 3.</p></li></ul><p>* in htdocs/modules/mysight/components/survey/participation/queue.inc.php the constants used are defined:</p><pre><code class=\"language-text\">    const PARTICIPATION_COMPLETED   = 1;\n    const PARTICIPATION_UPDATED     = 2;\n    const PARTICIPATION_DELETED     = 3;\n\n    const STATUS_READY      = 1;\n    const STATUS_PENDING    = 2;\n   </code></pre><p>I can't find that the pending status is being used.</p><p>To delete manually deleted participations (from sample_data and survey tables), following kind of INSERTs have been used:</p><pre><code class=\"language-text\">INSERT INTO mysight_survey_participation_queue (pid, lfdn, sync_type, status) VALUES (1681,20353168,3,1);</code></pre><p>Status pending is for being used by Customizing. Entries added to the queue stay there with status 2, so that you can do something with them before you switch status to 1 before they get processed.</p><h3 id=\"header-78\">(MySight new) What is the default value of config variable sync_flow_rate?</h3><p> Question: In EFS 16.3 the default value of config variable sync_flow_rate was 10.000 and could be increased up to 30.000. Is this still up-to-date?<br>Answer: No, since EFS 16.4 the default value is 50.000 and can be increased up to 200.000.</p><h3 id=\"header-79\">(MySight new) Can the intermediate database be changed?</h3><p> Question: If a survey is not live, can the database be changed/switched without having to migrate the content (dump)? As far as we can see the data only is stored temporarily.<br>If the answer is yes, can this also be done for a survey that is live (given that this step is announced and prepared)?<br>Answer: The intermediate database only saves data temporarily until it is synched to the Exasol database. Therefore, we don't see any issues with changing/switching the intermediate database<br>independent from the status of the survey (live, not live) because the data (completed interviews) is put into a queue before being synched by the jobmaker.<br>You though have to stop the jobmaker before switching the database to avoid that data is synched during the switch.</p><h3 id=\"header-80\">(MySight new) What happens to the data if MySQL and/or Exasol are temporarily not available?</h3><p> Question: Is the data stored to the Exasol databasae directly in case the intermediate database is temporarily not available? Answer: During the synch transactions are used. If for some reason the database should not be available, a rollback is executed and the completed interviews will remain in the queue.</p><h3 id=\"header-81\">(MySight new) Are we able to manually sync not synched data (logfile analysis) and is this feasible (consistency)?</h3><p> Answer: It should not be necessary to manually sync data because of the transactions and the rollback in case of non availability. Non synched data will remain in the queue and will be synched during the next jobmaker execution.</p><h3 id=\"header-82\">(MySight new) How can I add text variables as split variables /dimensions in Mysight?</h3><p> By default only integer variables can be used as split variables in mysight.<br>Since EFS 16.4 there is a new config flag that allows to enable specified text variables to be used as split as well: allowed_text_split.<br>Variables of type date can not be used as split variables.<br><br>Please make sure that these text variables though only include integer values or text values that are all the same or otherwise a split would not make sense. Please also mind that each additional split variable increases the risk of <strong>performance issues</strong> when tableau fetches data from Exasol.</p><h3 id=\"header-83\">(MySight new) Failed Queries and what to do in that case (still needs to be documented)</h3><p></p><h4 id=\"header-85\">[EXASOL][EXASolution driver]insufficient privileges for creating connection</h4><p></p><h4 id=\"header-86\">[EXASOL][EXASolution driver]insufficient privileges for using connection</h4><p> Example case: 00502310<br>Error message shown in failed query mail: <strong>insufficient privileges for using connection</strong> Error messages shown in <a href=\"https://it.globalpark.de/twiki/bin/view/Support/MySight\">https://it.globalpark.de/twiki/bin/view/Support/MySight</a>-Log on installation:</p><ul>\n<li><p><strong>The result sync in context of 'transferSurveyParticipationByInstanceIdAndPid' for PID x after y sec failed.</strong></p></li>\n<li><p>When clicking on ?-icon: *Error copy table content to exasol*<br></p></li>\n<li><p><strong>The initial sync of results failed.</strong></p></li>\n</ul><p><br>Solution: Forward the case to sysadmins and ask them to grant the Exasol user rights for using the connection.<br>Information that sysadmins need (see Options &gt;&gt; MySight settings &gt;&gt; MySight connections &gt;&gt; Edit Exasol connection):</p><ul>\n<li><p>Installation URL</p></li>\n<li><p>Exasol DB scheme</p></li>\n<li><p>Exasol User</p></li>\n<li><p>Exasol Host</p></li>\n<li><p>Exasol Port</p></li>\n</ul><p></p><h4 id=\"header-87\">[EXASOL][EXASolution driver]insufficient privileges for replacing connection</h4><p> Case 00436112<br>When accessing Exasol an error message was shown informing about insufficient privileges. Also an error was shown under Options &gt;&gt; MySight settings &gt;&gt; My Sight Log<br><strong>Instance publishing failed Error copy table to Exasol</strong> <br>Solution: Forward case to Sysadmins and ask to change rights of the Exasol user:</p><ul><li><p>Needed rights: <strong>DROP ANY CONNECTION</strong> and <strong>ALTER ANY CONNECTION</strong></p></li></ul><p> Information that sysadmins need (see Options &gt;&gt; MySight settings &gt;&gt; MySight connections &gt;&gt; Edit Exasol connection):</p><ul>\n<li><p>Installation URL</p></li>\n<li><p>Exasol DB scheme</p></li>\n<li><p>Exasol User</p></li>\n<li><p>Exasol Host</p></li>\n<li><p>Exasol Port</p></li>\n</ul><h3 id=\"header-89\">(MySight new) Open questions regarding Mysight v2</h3><p> Please feel free to add yours</p><p></p><h4 id=\"header-91\">Team-Rechte für MySight-Funktionen</h4><p><strong>Es gibt die folgende ACL-Rechte:</strong></p><ul>\n<li><p><strong>mysight_self_siteadmin</strong> - Mit Schreibrecht erhalten Sie die Möglichkeit Ihren Tableau User-Account zu verwalten. Beim Anlegen eines neuen Tableau User-Account wird zudem die Rolle \"Site-Administrator\" zugewiesen (Hinweis: Dieses Recht ist höherwertig als \"mysight_self_sitepublisher\").</p></li>\n<li><p><strong>mysight_self_sitepublisher</strong> - Mit Schreibrecht erhalten Sie die Möglichkeit Ihren Tableau User-Account zu verwalten. Beim Anlegen eines neuen Tableau User-Account wird zudem die Rolle \"Publisher\" zugewiesen.</p></li>\n</ul><p><strong>Wie gehen wir hier nun per Default vor?</strong></p><ul>\n<li><p><strong>Erstellen wir im EFS nur ein \"mysight\"-Team und vergeben wir beide Rechte?</strong> (Das macht eigentlich wenig Sinn, ein \"siteadmin\" ist mächtiger als der \"publisher\", man braucht also nicht das \"sitepublisher\"-Recht in diesem Team zu vergeben)</p></li>\n<li><p><strong>Erstellen wir im EFS zwei Teams mit unterschiedlichen Rechten, z.B. \"mysight_siteadmin\"- und \"mysight_sitepublisher\"-Team?</strong></p></li>\n</ul><p><strong>Zur Info:</strong></p><ul>\n<li><p>Mit dem Recht \"mysight_self_siteadmin\" hat ein Benutzer die Möglichkeit in Tableau zu publizieren und anschließend Dashboards zu bearbeiten</p></li>\n<li><p>Mit dem Recht \"mysight_self_sitepublisher\" hat ein Benutzer die Möglichkeit in Tableau zu publizieren, er kann selber aber keine Dashboards bearbeiten</p></li>\n</ul><p> (Wenn das tatsächlich so gewollt ist, sollten wir für die Kunden doch Teams mit unterschiedlichen Rechten bereitstellen. Zur Zeit erstellen wir per default ein Team \"mysight\" mit dem \"mysight_self_sitepublisher\"-Recht. Damit kann ein Kunde definitiv nicht viel anfangen.)</p><p></p><h4 id=\"header-92\">Site-Administratoren und Tableau-Rechte</h4><ul>\n<li><p><strong>Über EFS MySight v2 auf Tableau erstellte \"Site-Administratoren\" können direkt nach anlegen der neuen Site auf Tableau nicht nur Dashboards publizieren, sie haben zusätzlich das Recht andere Benutzer zu erstellen. Ist das so gewollt?</strong> (Genaur heißt hier dass jeder der durch seinen EFS Benutzer einen Tableau Benutzer erstellt hat, kann anschließend selbst und direkt im Tableau mehrere Benutzer anlegen.)</p></li>\n<li><p>Das scheint die Default Einstellung zu sein, wenn neue Sites angelegt werden (manuell oder über die API). Es muss so eingestellt werden, dass nur Tableau Server Administratoren Benutzer anlegen dürfen</p></li>\n</ul><p></p><h3 id=\"header-94\">(MySight new) - Dashboard is not shown in Portals</h3><p> A MySight projekt and a corresponding dashboard have been created. The MySight project is embedded in a portal. When viewing the portal als a participant, the dashboard is not shown. When opening the debug console in the browser a link returnedan error 404. When opening this link the following message is shown:</p><pre><code class=\"language-text\">Ressource nicht gefunden \nÜberprüfen Sie die URL, und wiederholen Sie den Vorgang. \n</code></pre><p> The reason for this issue are missing view rights. Check the rights for project, workbook, view and data source. The rights should be as follows:</p><ul>\n<li><p><strong>Project:</strong> view right for panel group defined in MySight project, no rights for group \"All Users\"</p></li>\n<li><p><strong>Workbook:</strong> view right for group \"All Users\"</p></li>\n<li><p><strong>View:</strong> view right for group \"All Users\"</p></li>\n<li><p><strong>Data Source:</strong> view right for group \"All Users\"</p></li>\n</ul><h3 id=\"header-95\">(MySight new) Republish MySight projects on cloned installations</h3><p> If an EFS installation is cloned, the MySight projects and their status will be cloned as well but the data in the intermediate and exasol database will not be cloned. Also no data will be cloned on tableau server.<br>The cloned installation will get its own empty intermediate and exasol databases and an empty site on tableau server.<br>To republish an existing mysight project so that data is available in exasol and a project is created on the site on tableau server some steps have to be taken in the backend.<br>It might be quicker and easier to just copy the existing mysight projects, to publish the copies and then to delete the original ones once the copies are published. The dashboards have to be created anew anyway<br>If the existing projects shall be kept (which is not needed from a technical point of view), these are the steps to publish them:<br></p><ul>\n<li>\n<p>Reset status of the existing MySight project</p>\n<pre><code class=\"language-text\">SELECT * FROM mysight_instance WHERE id=4791;\n      UPDATE mysight_instance SET publication_status=0 WHERE id=4791; </code></pre>\n</li>\n<li>\n<p>Create backup table and then delete the entry form mysight_instance_map:</p>\n<pre><code class=\"language-text\">CREATE TABLE sb_backup_mysight_instance_map LIKE mysight_instance_map; \nINSERT INTO sb_backup_mysight_instance_map SELECT * FROM mysight_instance_map WHERE instance_id=4791; \nDELETE FROM mysight_instance_map WHERE instance_id=4791;</code></pre>\n</li>\n<li><p>Reset the connection cache in Options &gt;&gt; MySight settings &gt;&gt; qb:: Tableau-Cache Administration &gt;&gt; Connection-Cache &gt;&gt; Reset connection cache</p></li>\n<li><p>Open the MySight project and click \"publish\"</p></li>\n<li><p>Check the MySight log to see whether there are any errors</p></li>\n</ul><h3 id=\"header-96\">Create client account on tableau server and send login credentials</h3><p> We receive a request from Customer Help Desk or internally to create a (new) user on Tableau server</p><ul>\n<li><p>Login to corresponding server, e.g. <a href=\"https://mysight-preprod2.questback.com\">https://mysight-preprod2.questback.com</a> and select any site</p></li>\n<li><p>Manage all sites &gt;&gt; Users (toggle filters to see search field)</p></li>\n<li>\n<p>Check whether the user already exists</p>\n<ul>\n<li><p>if yes, grant rights to new site</p></li>\n<li>\n<p>if no, create new user and grant rights to site</p>\n<ul>\n<li><p>+ Add Users &gt;&gt; New user &gt;&gt; enter all credentials (maybe use passwordsafe to generate password) <strong>see screenshot below</strong></p></li>\n<li><p>send login credentials via Outlook, use below example mail template</p></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul><ac:image ac:align=\"center\" ac:layout=\"center\" ac:src=\"https://it.globalpark.de/twiki/pub/Support/MySight/create_new_user_tableau.jpg\"><ri:url ri:value=\"https://it.globalpark.de/twiki/pub/Support/MySight/create_new_user_tableau.jpg\"></ri:url></ac:image><p><br><br><strong>Subject: MySight / Preprod2 access</strong> <br></p><pre><code class=\"language-text\">Dear xxx,\n\nWe have created a user account for you to access the Questback MySight environment via “xxx” (Site: xxx).\n\nUsername: xxx\nInitial password: xxx\n\nPlease change this password after your first login (Top right circle with your initials / Drop Down Menu, &gt; My Account Settings &gt; Change Password).\nIf there are any problems with your permissions, please don’t hesitate to contact our support team (de.support@questback.com).\n\nBest regards\nxxx\n</code></pre><h3 id=\"header-97\">Mass import of client new accounts on tableau server</h3><p> We receive a request from Customer Help Desk or internally to create (new) users on Tableau server. Please check for that tasks following Tableau Help Sites.</p><p><strong>Tableau Help</strong></p><ul>\n<li><p><strong>URL:</strong> <a href=\"https://help.tableau.com/current/server/en-us/users_import.htm\">https://help.tableau.com/current/server/en-us/users_import.htm</a> <strong>(Import Users)</strong></p></li>\n<li><p><strong>URL:</strong> <a href=\"https://help.tableau.com/current/server/en-us/csvguidelines.htm\">https://help.tableau.com/current/server/en-us/csvguidelines.htm</a> <strong>(CSV Import File Guidelines)</strong></p></li>\n</ul><h3 id=\"header-98\">Add ODBC connection to Alteryx Server</h3><p><br><strong>INFO: From time to time we receive such requests and the only thing to do here is to forward the EFS database password (same like EXASOL Schema password)</strong><br><strong>to our Windows System engineers (at the meantime only Heiko). Everything else will be managed by our System Engineers.</strong></p><p></p>",
    "user_segment_ids": [
        360000084973
    ]
}