<p><b>Original Confluence URL:</b> <a href="https://qbdocs.atlassian.net/wiki/spaces/IAM/pages/1066827811">https://qbdocs.atlassian.net/wiki/spaces/IAM/pages/1066827811</a> - please cross-check the quality of the ZD article with the Confluence counterpart and remove this line before publishing the ZD article</p>

<h2>Table of Contents</h2>
<ul class="toc">
<ul>
<li><a href="#header-1">Why is any migration required for Tivian Access ?</a></li>
<ul>
<li><a href="#header-3">Who does the migrations ?</a></li>
<ul>
<li><a href="#header-5">Why do I need to sync portals to Okta ?</a></li>
<ul>
<li><a href="#header-7">What steps are required for the user sync ?</a></li>
<li><a href="#header-8">How long does a user migration take ?</a></li>
<li><a href="#header-9">When should I start the user migration ?</a></li>
</ul>
</ul>
</ul>
</ul>
</ul><ac:rich-text-body><ac:parameter ac:name="maxLevel">5</ac:parameter><ac:parameter ac:name="minLevel">3</ac:parameter><ac:parameter ac:name="indent">0</ac:parameter><ac:parameter ac:name="absoluteUrl">true</ac:parameter><ac:parameter ac:name="style">none</ac:parameter></ac:rich-text-body><h1 id="header-1"><strong>Why is any migration required for Tivian Access ?</strong></h1><p>In oder for users to sign in to our Identity Provider (Okta), they need to be created in Okta and set a password. In the further document this is also referred to as the user sync.</p><p>This step is only required for users which are signing in to Okta directly and not using a federated authentication to their company’s Identity Provider. A list of known domains for user email addresses will be used to decide wether a user needs to be synced or not.</p><p>Also to comply with the authentication protocols we are using to enable Single Sign On across the applications it is required to register application instances at Okta. For applications like EFS this is done manually during the setup of Tivian Access but for all existing portal instances this needs to be done once.</p><p>To conclude, the following migrations are required:</p><ul>
<li><p><strong>Sync EFS Admin users to Okta</strong> → EFS Admin users will be able to login with Okta</p></li>
<li><p><strong>Sync Panelists to Okta</strong> → Portal users will be able to login with Okta</p></li>
<li><p><strong>Sync of existing Portal instances to Okta</strong> → Portal instances can be used with Tivian Access</p></li>
</ul><h2 id="header-3"><strong>Who does the migrations ?</strong></h2><p>Migration will be performed by 2nd level support. All necessary resources to enable 2nd level support will be delivered by the <a href="https://discoverxi-supportdesk.zendesk.com/wiki/people/team/6b96c6d8-d2c6-4808-8d17-c77b837d20d2?ref=confluence&amp;src=fabric">IAM</a>-Team. The exact process is not finalised yet.</p><h3 id="header-5"><strong>Why do I need to sync portals to Okta ?</strong></h3><p>OpenID Connect requires applications to be registered at the Identity Provider to achieve a login for this application. This mechanism is done to avoid attacks like Man-In-The-Middle attacks and to ensure maximal security.</p><p>New portals, which are created when Tivian Access is active, will be automatically synced to Okta. For existing portals this has to be done once when setting up Tivian Access for an EFS installation.</p><p><strong>When should I do the portal sync ?</strong></p><p>The portal sync is completely independent of the running business on the EFS installation (and its users). The sync should happen before activating Tivian Access to ensure that all portal installation will work and be accessible.</p><p>The sync will take only a few seconds so it can be done shortly before, but we recommend to leave a time buffer in case the sync will not be successful.</p><h4 id="header-7"><strong>What steps are required for the user sync ?</strong></h4><p>The user sync consists of two phases.<br><strong>Phase 1</strong> is creating the users in Okta. A script will take all existing users from an EFS installation (EFS Admins or Panelists) and push them via API calls to Okta.</p><p><strong>Phase 2</strong> is activating the users in Okta. A script will activate the previously created users via API. This will trigger Okta to send out an activation mail to the users. Once the users will follow the instructions in the email, they will be able to setup a new password in Okta so they can log in.</p><p>Phase 1 should be done before activating Tivian Access on an installation, since it can be very time consuming. Phase 2 should happen either shortly before activating Tivian Access or right after. Without the activation, users will not be able