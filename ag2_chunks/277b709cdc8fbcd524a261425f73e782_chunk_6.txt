 cloned to be used by client ING-DiBa. On the cloned installation all data and objects of the other clients needs to be deleted.<br>Here is how you can delete these objects.</p><ac:parameter ac:name="minLevel">4</ac:parameter><h3 id="header-14">Delete organisations and all related objects (projects, teams, users, mail templates, mail senders, etc.)</h3><ul>
<li><p>Delete all organisations of all other clients on the cloned installation. If everything was set up without inconsistencies, all related objects projects, teams, users, mail templates, mail senders, etc. will be deleted with the organization. If there are nconsistencies, these have to be cleaned afterwards.</p></li>
<li>
<p>Fix inconsistencies afterwards: </p>
<ul><li><p>[installation path]/htdocs/www<br>php support/fix_inconsistencies.php</p></li></ul>
</li>
</ul><h4 id="header-16">Find out all organisation related items</h4><p>Find out all organisatzion related items, like projects, macros, scale options etc see list in SELECT below:</p><pre><code class="language-sql">SELECT d.gid, d.rc, oi.*, ot.tname FROM obj_inst oi, obj_type ot, obj_type ot2, drago d WHERE d.gid IN (120276) AND ot.tname IN('project_cat','project','sy_theme','scala','macro','mail_preview','sy_msg_set','mail_sender','layout_template','acl_template','bib_cat','exchange_files','flash_template','survey_reportfile','orbit_snapshot') AND d.oid=oi.oid AND oi.tid=ot.tid AND ot.tid_2=ot2.tid AND ot2.tname!="acl" ORDER BY d.gid;</code></pre><h4 id="header-17">Get all team IDs of all users of an organisation</h4><pre><code class="language-sql">SELECT DISTINCT gid FROM user_grp WHERE uid in (select uid from admin_user_contract where org=[ORGANISATION ID]) GROUP BY gid;</code></pre><h4 id="header-18">Get team name/ title of all users of an organisation</h4><pre><code class="language-sql">SELECT DISTINCT gid FROM user_grp WHERE uid in (select uid from admin_user_contract where org=[ORGANISATION ID]) GROUP BY gid;</code></pre><h4 id="header-19">Clean up teams</h4><ul>
<li><p>Login with sysadmin account and list all etams in menu System &gt;&gt; Users &gt;&gt; Teams</p></li>
<li><p>Compare this list with the database</p></li>
</ul><pre><code class="language-sql">SELECT gid, gname, gtitle FROM groups;</code></pre><ul>
<li><p>If there are teams that are not shown in the GUI, copy their ID from the database</p></li>
<li><p>Open any team in the GUI and replace the oid in the URL with the above copied one</p></li>
<li><p>Delete the team via the corresponding button</p></li>
<li><p>Repeat for other teams</p></li>
</ul><h4 id="header-20">Delete Questions from question library</h4><ul><li><p>Get list of categories in question library that the client's teams do not have access to (that only sysadmin has access to)</p></li></ul><pre><code class="language-sql">SELECT d.gid, d.rc, oi.*, ot.tname FROM obj_inst oi, obj_type ot, obj_type ot2, drago d WHERE d.gid NOT IN (1195,9051) AND ot.tname IN('bib_cat') AND d.oid=oi.oid AND oi.tid=ot.tid AND ot.tid_2=ot2.tid AND ot2.tname!="acl" ORDER BY d.gid;</code></pre><h4 id="header-21">Delete scale options that still are left (after having deleted organisations)</h4><p>Create an account in the teams of the client that owns the cloned installation. Also add this account to the organization of the client. Don't use a Questback email address.<br>Login with this account to see which scale options the client can see and which belong to them.<br>Copy the visible scids (scale IDs).</p><pre><code class="language-sql">SELECT COUNT(*) FROM scala_def WHERE scid NOT IN ([previously copied scids]);
DELETE FROM scala_def WHERE scid NOT IN ([previously copied scids]);

SELECT COUNT(*) FROM scala_value WHERE scid NOT IN ([previously copied scids]);
DELETE FROM scala_value WHERE scid NOT IN ([previously copied scids]);</code></pre><h4 id="header-22">Delete projects that still are left (after having deleted organisations)</h4><p>Create an account in the teams of the client that owns the cloned installation. Also add this account to the organization of the client. Don't use a Questback email address.<br>Login with this account to see which projects the client can see and which belong to them.</p><ul><li><p>Find out Ids of remaining organisatzions (client, default and Questback)</p></li></ul><pre><code class="language-sql">SELECT id, name, description FROM admin_contract_org;</code></pre><ul><li><p>Create backup table of project Ids (will be used for two different cases)</p></li></ul><pre><code